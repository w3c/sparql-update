<!DOCTYPE html><html lang="en" dir="ltr"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>SPARQL 1.2 Update</title>

    
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
    
    

    
    
    
<style>

      /* @import url("local.css"); */
      /* Inlined to make preview work */

/* CSS For SPARQL Query */

/* In-progress working draft artifacts - to be removed eventually */
  .issue	{ background-color: #fdd;
                  font-size: 88% ; }
  .add		{ background-color: #7fff7f }
  .remove	{ background-color: #ff7f7f }
ul.issue	{}
  .issueBlock	{ margin: 1em 4em 1em 2.5em ; /* Top Right Bottom Left */
                  padding: 1ex;
	          /*overflow: auto;*/
                  page-break-inside: avoid ; }
  .issueTopic	{ font-weight: bold ; }

 .todo		{ font-size: 80% ; color: #444 ; }
p.todo		{}

.wgNote	{ border: 0.2em solid red;
      padding: 0.5em ;
      margin: 1em 4em 1em 2em ; }

.box     { border: thin solid #888888;
           page-break-inside: avoid ;
           background-color: #F8F8F8 ; padding:1em ;
           margin-left:0 ; margin-right: 2ex; 
           margin-top: 0.1ex ; margin-bottom: 0.1ex ;
         }

/* Misc WD stuff */
span.cvs-id     {color: gray; font-size:80%; display: block; }

/* == General Tag Treatment == */
pre		 { margin: 1em 4em 1em 2.5em ; /* Top Right Bottom Left */
                   padding: 1ex;
	           /*overflow: auto;*/
                   page-break-inside: avoid ; }

/* Tables */
table, td	{ text-align: left; }
td, th   { border-style: solid;
                  border-width: 1px;
                  border-color: black;
                  border-bottom-color: gray;
                  border-right-color: gray; }
td.annotation, th.annotation { border-style: none; border-bottom-style: dotted; }
table.plain	{ border-spacing: 0px; padding: 0px ; border-collapse: collapse ; }
                  /* cellpadding="0" cellspacing="1" style="border-collapse: collapse */


th.major	{ background-color: #005a9c;
                  color: white; }
.subHeading	{ text-align: left;
                  background-color: #CCCCCC; }
th, td		{ padding: 3px; }
td		{ font-size: 85%; }
th a:link	{ text-decoration: none; }
th a:hover	{ background-color:#FFFF99;
                  text-decoration: underline; }

/* == Prototypes == */
pre.prototype	{ background-color:#f7f8ff;
                  border:thin solid #8888aa;
                  margin: 1em 4em 1em 0em ; }
.return, .type	{ color: #177 }

/* == Notes ==  */
.note		{ margin-left: 2.5em; margin-right: 4ex ; font-size: 85% ; font-style: italic ; }

/* Definitions */
.defn		{ margin-left:0 ; margin-right: 2ex; 
                  margin-top: 0.1ex ; margin-bottom: 0.1ex ;
                  /*border: double 1px #888888; *//* Buggy */
                  border: thin solid #888888;
                  padding: 1ex 2ex 0.5ex 2ex ; /* top, right, bottom, left */
                  page-break-inside: avoid ;
                  background-color: #F0F8F8 ; }
div.defn p	{ margin-top: 1ex ; margin-bottom: 1.5ex ;}
div.defn ul	{ margin-top: 1ex ; margin-bottom: 1.5ex ; }
@media print	{ .defn { margin: 1em 1em 1em 1em ; } }
span.definedTerm	{font-weight: bold;}

div.grammarExtract
                { border: thin solid #888888;
                  padding: 1ex 2ex 1ex 2ex ; /* top, right, bottom, left */
                  margin: 1em 6em 1em 2em ; 
                  page-break-inside: avoid ;
                  background-color: #F8F8F8 ; }

pre.codeBlock  { font-family:monospace ; page-break-inside: avoid ; 
                 margin: 0 ;
	         margin-right: 2ex ;
                 border: thin solid #888888; }




/* Examples */
pre.data	{ border: thin solid #88AA88;
                  background-color: #E8F0E8;
                  margin: 1em 4em 1em 0em ; }

pre.dataExcerpt	{ border: thin solid #88AA88;
                  background-color: #E8F0E8;
                  margin: 1em 4em 1em 0em ; }
/* Example Queries */
.query          { background-color:#f7f8ff; }
.queryExcerpt   { background-color:#f7f8ff; }
pre.query	{ border:thin solid #8888aa;
                  margin: 1em 4em 1em 0em ; }
/* Example Results */
.result		{ border: thin solid  #888888 ;
                  background-color: #F0F0F0 ; }
pre.resultGraph	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultSet	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultAsk	{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }
pre.resultTurtle{  margin: 0em 0em 0em 0em ; /* Top Right Bottom Left */
                   padding: 0ex;
                   font-size: 100% ;
                   page-break-inside: avoid ; }

pre.result	{ margin: 1em 4em 1em 0em ; }

div.result	{ font-family: monospace;
                  margin:  1em 4em 1em 0em ;
                  padding: 1ex ; }

.result table	{ border-collapse: collapse; }
.result table td{ border-width: 1px ;
                  border-color : black ; 
                  font-family: monospace ;
                  empty-cells: show;
                  padding-left: 1ex ; padding-right: 1ex ;
                  vertical-align:top;
                  text-align: left ; } 
/*  spacing: 0 ;*/
.result table th{ border-width: 1px ;
                  font-family: monospace ;
                  border-color: black ;
                  empty-cells: show;
                  padding-left: 1ex ; padding-right: 1ex ;
                  vertical-align:top;
                  text-align:center; } 

/* Examples : Algebra */
div.algExample {  border: thin solid #888888;
                  page-break-inside: avoid ;
                  padding:0.5em ; margin:0.5em ;
                  margin-left: 2em ; margin-right: 2em ;
                  font-family:monospace ; }

div.algExample1 { padding:0.5em ; background-color: #F0F0FF ; }
div.algExample2 { padding:0.5em ; margin-top: 0.5em ; background-color: #F0FFF0 ; }

/* Grammar Mark-up */
.operator	{ color: #3f3f5f;
                  text-transform: uppercase; }
.function	{ color: #3f3f5f;
                }

/* Tuned to cope with different browsers behaviours */
div.grammarTable table	{ border-style: solid ;
			  border-width: 1px ;
			  border-color: #AAA ;
			  border-spacing: 0px ; 
			  border-collapse: collapse ; }

div.grammarTable table * { border-left-width: 0px ;
			   border-right-width: 0px ;
			   border-color: #AAA ; } 

div.grammarTable table * tr   { border-top-style: solid ;
			  border-top-width: 1px ;
			  border-top-color: #AAA ; } 

.grammar	{ text-align: left ;
                  vertical-align: top ; }
.token		{ color: #3f3f5f; }
table.FAndOTable .token		{ color: #00c; }
table.FAndOTable .token:visited		{ color: #a0c; }
.gRuleHead	{ font-style: italic ;
                  font-family: monospace ; }
.gRuleBody	{ font-family: monospace ; }
.gRuleLabel	{ font-family: monospace ; }

.code		{ font-family: monospace; font-size: 100%; }
pre.code	{ font-family: monospace; font-size: 100%; margin: 0 ; }

/* Table of Contents */
.toc		{ text-indent: 0; }
DIV.toc UL UL, DIV.toc OL OL {margin-left: 0}
DIV.toc UL UL UL, DIV.toc OL OL OL {margin-left: 1em}
DIV.toc UL UL UL UL, DIV.toc OL OL OL OL {margin-left: 0}
LI.tocline1	{ font-weight: bold}
LI.tocline2	{ font-weight: normal}
LI.tocline4	{ font-style: italic}
/* The border in the following rule crashes NN4 on fonts.html :-(
DIV.subtoc	{ padding: 1em; border: solid black thin; margin: 1em 0;
                  background: #ddd} */
DIV.toc, UL.index, DT { text-align: left; }


/* References to the Rdf Data Model */
span.rdfDM	{ color: #11d; }


/* Truth Table */
  .truth	{ font-family: monospace; }
  .error	{ color: #ff1f1f; }
  table.truthTable td	{ text-align: center; font-family: monospace; }
  table.truthTable th	{ background-color: #dfdfdf; }
  table.truthTable tbody th	{ font-weight: normal; font-family: monospace; }

/* Casting table */
table.casting	{ font-size: x-small; }

.castY	{ background-color: #7FFF7F;
                  color: black; }

.castN	{ background-color: #FF7F7F;
                  color: black; }

.castM	{ background-color: white;
                  color: black; }

span.cancast:hover { background-color: #ffa;
                     color: black; }

.SPARQLoperator	{ background-color: #FFFFbf; /* yellow */
          }

.owlnonterminal {
    font-weight: bold;
    font-family: sans-serif;
    font-size: 95%;
}
.owlgrammar {
    margin-top: 1ex;
    margin-bottom: 1ex;
    padding-left: 1ex;
    padding-right: 1ex;
    padding-top: 1ex;
    padding-bottom: 0.6ex;
    border: 1px dashed #2f6fab;
    font-family: monospace;
}

      /* ReSpec */
      dfn { font-style: normal ; }
      /* ReSpec */

  code           { font-family: monospace; }

  div.constraint,
  div.issue,
  div.note,
  div.notice     { margin-left: 2em; }

  ol.enumar      { list-style-type: decimal; }
  ol.enumla      { list-style-type: lower-alpha; }
  ol.enumlr      { list-style-type: lower-roman; }
  ol.enumua      { list-style-type: upper-alpha; }
  ol.enumur      { list-style-type: upper-roman; }


  div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
  div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
  div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
  div.exampleWrapper { margin: 4px }
  div.exampleHeader { font-weight: bold;
                    margin: 4px}

  em.rfc2119 { text-transform: lowercase;
             font-variant: small-caps;
             font-style: normal; }
    
</style>
  
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<meta name="description" content="This document describes SPARQL 1.2 Update, an update language for RDF graphs. It uses a syntax derived from the SPARQL Query Language for RDF. Update operations are performed on a collection
    of graphs in a Graph Store. Operations are provided to update, create, and remove RDF graphs in a Graph Store.">
<link rel="canonical" href="https://www.w3.org/TR/sparql12-update/">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "rdf-star",
  "localBiblio": {
    "ISO24707": {
      "id": "ISO24707",
      "title": "Information technology — Common Logic (CL) — A framework for a family of logic-based languages",
      "date": "2018-07",
      "href": "https://www.iso.org/standard/66249.html",
      "status": "Published",
      "publisher": "ISO/EIC"
    },
    "HORST04": {
      "id": "HORST04",
      "title": "Extending the RDFS Entailment Lemma",
      "authors": [
        "Herman J. ter Horst"
      ],
      "date": "2004",
      "isbn": "978-3-540-30475-3",
      "href": "https://doi.org/10.1007/978-3-540-30475-3_7",
      "status": "Conference Proceeding",
      "publisher": "Springer, Berlin, Heidelberg"
    },
    "HORST05": {
      "id": "HORST05",
      "title": "Completeness, Decidability and Complexity of Entailment for RDF Schema and a Semantic Extension Involving the OWL Vocabulary",
      "authors": [
        "Herman J. ter Horst"
      ],
      "date": "2005",
      "href": "https://dx.doi.org/10.2139/ssrn.3199251",
      "status": "Conference Proceeding",
      "publisher": "Journal of Web Semantics"
    },
    "SAFETY": {
      "title": "Saftety of recursive horn clauses with infinite relations",
      "href": "http://arxiv.org/abs/cs.LO/9809032",
      "authors": [
        "R. Ramakrishnan",
        "F. Bancilhon",
        "A. Silberschatz"
      ],
      "date": "1987",
      "publisher": "ACM New York"
    },
    "STRIPEDRDF": {
      "id": "STRIPEDRDF",
      "title": "RDF: Understanding the Striped RDF/XML Syntax",
      "editors": [
        "D. Brickley"
      ],
      "date": "2001",
      "href": "http://www.w3.org/2001/10/stripes/",
      "status": "Team Submission",
      "publisher": "W3C"
    },
    "RDF12-CONCEPTS": {
      "authors": [
        "Richard Cyganiak",
        "David Wood",
        "Markus Lanthaler"
      ],
      "href": "https://w3c.github.io/rdf-concepts/spec/",
      "title": "RDF 1.2 Concepts and Abstract Syntax",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "rdf12-concepts"
    },
    "RDF12-SEMANTICS": {
      "authors": [
        "Patrick Hayes",
        "Peter Patel-Schneider"
      ],
      "href": "https://w3c.github.io/rdf-semantics/spec/",
      "title": "RDF 1.2 Semantics",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-N-QUADS": {
      "authors": [
        "Gavin Carothers"
      ],
      "href": "https://w3c.github.io/rdf-n-quads/spec/",
      "title": "RDF 1.2 N-Quads",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-N-TRIPLES": {
      "authors": [
        "Gavin Carothers",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/rdf-n-triples/spec/",
      "title": "RDF 1.2 N-Triples",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-NEW": {
      "authors": [
        "David Wood"
      ],
      "href": "https://w3c.github.io/rdf-new/spec/",
      "title": "What’s New in RDF 1.2",
      "rawDate": "2022-01-01",
      "status": "DNOTE",
      "publisher": "W3C"
    },
    "RDF12-PRIMER": {
      "authors": [
        "Guus Schreiber",
        "Yves Raimond"
      ],
      "href": "https://w3c.github.io/rdf-primer/spec/",
      "title": "RDF 1.2 Primer",
      "rawDate": "2022-01-01",
      "status": "DNOTE",
      "publisher": "W3C"
    },
    "RDF12-SCHEMA": {
      "authors": [
        "Dan Brickley",
        "Ramanathan Guha"
      ],
      "href": "https://w3c.github.io/rdf-schema/spec/",
      "title": "RDF 1.2 Schema",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-TRIG": {
      "authors": [
        "Gavin Carothers",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/rdf-trig/spec/",
      "title": "RDF 1.2 TriG",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-TURTLE": {
      "authors": [
        "Eric Prud'hommeaux",
        "Gavin Carothers"
      ],
      "href": "https://w3c.github.io/rdf-turtle/spec/",
      "title": "RDF 1.2 Turtle",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "RDF12-XML": {
      "authors": [
        "Fabien Gandon",
        "Guus Schreiber"
      ],
      "href": "https://w3c.github.io/rdf-xml/spec/",
      "title": "RDF 1.2 XML Syntax",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "SPARQL12-NEW": {
      "authors": [
        "The W3C RDF-star Working Group"
      ],
      "href": "https://w3c.github.io/sparql-new/spec/",
      "title": "What’s New in SPARQL 1.2",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-new"
    },
    "SPARQL12-CONCEPTS": {
      "authors": [
        "The W3C RDF-star Working Group"
      ],
      "href": "https://w3c.github.io/sparql-concepts/spec/",
      "title": "SPARQL 1.2 Concepts",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-concepts"
    },
    "SPARQL12-QUERY": {
      "authors": [
        "Steven Harris",
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-query/spec/",
      "title": "SPARQL 1.2 Query Language",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-query"
    },
    "SPARQL12-UPDATE": {
      "authors": [
        "Paula Gearon",
        "Alexandre Passant",
        "Axel Polleres"
      ],
      "href": "https://w3c.github.io/sparql-update/spec/",
      "title": "SPARQL 1.2 Update",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C"
    },
    "SPARQL12-SERVICE-DESCRIPTION": {
      "authors": [
        "Gregory Williams"
      ],
      "href": "https://w3c.github.io/sparql-service-description/spec/",
      "title": "SPARQL 1.2 Service Description",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-service-description"
    },
    "SPARQL12-FEDERATED-QUERY": {
      "authors": [
        "Eric Prud'hommeaux",
        "Carlos Buil Aranda"
      ],
      "href": "https://w3c.github.io/sparql-federated-query/spec/",
      "title": "SPARQL 1.2 Federated Query",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-federated-query"
    },
    "SPARQL12-RESULTS-JSON": {
      "authors": [
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-results-json/spec/",
      "title": "SPARQL 1.2 Query Results JSON Format",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-json"
    },
    "SPARQL12-RESULTS-CSV-TSV": {
      "authors": [
        "Andy Seaborne"
      ],
      "href": "https://w3c.github.io/sparql-results-csv-tsv/spec/",
      "title": "SPARQL 1.2 Query Results CSV and TSV Formats",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-csv-tsv"
    },
    "SPARQL12-RESULTS-XML": {
      "authors": [
        "Sandro Hawke",
        "Dave Beckett",
        "Jeen Broekstra"
      ],
      "href": "https://w3c.github.io/sparql-results-xml/spec/",
      "title": "SPARQL 1.2 Query Results XML Formats",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-results-xml"
    },
    "SPARQL12-ENTAILMENT": {
      "authors": [
        "Birte Glimm",
        "Chimezie Ogbuji"
      ],
      "href": "https://w3c.github.io/sparql-entailment/spec/",
      "title": "SPARQL 1.2 Entailment Regimes",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-entailment"
    },
    "SPARQL12-PROTOCOL": {
      "authors": [
        "Lee Feigenbaum",
        "Gregory Williams",
        "Kendall Clark",
        "Elias Torres"
      ],
      "href": "https://w3c.github.io/sparql-protocol/spec/",
      "title": "SPARQL 1.2 Protocol",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-protocol"
    },
    "SPARQL12-GRAPH-STORE-PROTOCOL": {
      "authors": [
        "Chimezie Ogbuji"
      ],
      "href": "https://w3c.github.io/sparql-graph-store-protocol/spec/",
      "title": "SPARQL 1.2 Graph Store HTTP Protocol",
      "rawDate": "2022-01-01",
      "status": "WD",
      "publisher": "W3C",
      "id": "sparql12-graph-store-protocol"
    },
    "CBD": {
      "title": "CBD - Concise Bounded Description",
      "href": "https://www.w3.org/Submission/CBD/",
      "authors": [
        "Patrick Stickler, Nokia"
      ],
      "rawDate": "2005-06-03",
      "publisher": "W3C",
      "status": "W3C Member Submission"
    }
  },
  "specStatus": "FPWD",
  "edDraftURI": "https://w3c.github.io/sparql-update/spec/",
  "testSuiteURI": "https://w3c.github.io/rdf-tests/",
  "shortName": "sparql12-update",
  "copyrightStart": "2012",
  "github": "https://github.com/w3c/sparql-update",
  "wgPublicList": "public-rdf-star-wg",
  "previousPublishDate": "2013-03-21",
  "prevRecURI": "https://www.w3.org/TR/2013/REC-sparql11-update-20130321",
  "prevRecShortname": "sparql11-update",
  "previousMaturity": "REC",
  "editors": [
    {
      "name": "Ruben Taelman",
      "w3cid": "84199"
    },
    {
      "name": "Andy Seaborne",
      "w3cid": "29909"
    }
  ],
  "formerEditors": [
    {
      "name": "Paula Gearon"
    },
    {
      "name": "Alexandre Passant"
    },
    {
      "name": "Axel Polleres"
    }
  ],
  "lint": {
    "no-unused-dfns": false
  },
  "publishDate": "2023-05-16",
  "publishISODate": "2023-05-16T00:00:00.000Z",
  "generatedSubtitle": "W3C First Public Working Draft 16 May 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD"></head>
  <body class="h-entry"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">SPARQL 1.2 Update</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#FPWD">W3C First Public Working Draft</a> <time class="dt-published" datetime="2023-05-16">16 May 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2023/WD-sparql12-update-20230516/">https://www.w3.org/TR/2023/WD-sparql12-update-20230516/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/sparql12-update/">https://www.w3.org/TR/sparql12-update/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/sparql-update/spec/">https://w3c.github.io/sparql-update/spec/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/sparql12-update">https://www.w3.org/standards/history/sparql12-update</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/sparql-update/commits/">Commit history</a>
                  </dd>
        <dt>Test suite:</dt><dd><a href="https://w3c.github.io/rdf-tests/">https://w3c.github.io/rdf-tests/</a></dd>
        
        
        
        <dt>Latest Recommendation:</dt><dd><a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321">https://www.w3.org/TR/2013/REC-sparql11-update-20130321</a></dd>
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="84199">
    <span class="p-name fn">Ruben Taelman</span>
  </dd><dd class="editor p-author h-card vcard" data-editor-id="29909">
    <span class="p-name fn">Andy Seaborne</span>
  </dd>
        <dt>
                Former editors:
              </dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Paula Gearon</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Alexandre Passant</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Axel Polleres</span>
  </dd>
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/sparql-update/">GitHub w3c/sparql-update</a>
        (<a href="https://github.com/w3c/sparql-update/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/sparql-update/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/sparql-update/issues/">open issues</a>)
      </dd><dd><a href="mailto:public-rdf-star-wg@w3.org?subject=%5Bsparql12-update%5D%20YOUR%20TOPIC%20HERE">public-rdf-star-wg@w3.org</a> with subject line <kbd>[sparql12-update] <em>… message topic …</em></kbd> (<a rel="discussion" href="https://lists.w3.org/Archives/Public/public-rdf-star-wg">archives</a>)</dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2012-2023
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      
<p>This document describes SPARQL 1.2 Update, an update language for RDF graphs. It uses a syntax derived from the SPARQL Query Language for RDF. Update operations are performed on a collection
    of graphs in a Graph Store. Operations are provided to update, create, and remove RDF graphs in a Graph Store.</p>
    </section>

    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
      <p>
        This specification is published by the
        <a href="https://www.w3.org/groups/wg/rdf-star">RDF Star Working Group</a> as part of the
        update of specifications for format and errata.
      </p>
    <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/rdf-star">RDF-star Working Group</a> as
    a First Public Working Draft using the
        <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">Recommendation track</a>. 
  </p><p>Publication as a First Public Working Draft does not
  imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p><p>
    This is a draft document and may be updated, replaced or obsoleted by other
    documents at any time. It is inappropriate to cite this document as other
    than work in progress.
    
  </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/rdf-star/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#related"><bdi class="secno">1. </bdi>Set of Documents</a></li><li class="tocline"><a class="tocxref" href="#sec-intro"><bdi class="secno">2. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#documentConventions"><bdi class="secno">2.1 </bdi>Document Conventions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#languageForm"><bdi class="secno">2.1.1 </bdi>Language Form</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">2.1.2 </bdi>Terminology</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#graphStore"><bdi class="secno">3. </bdi>The Graph Store</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#graphStoreQueryServices"><bdi class="secno">3.1 </bdi>Graph Store and SPARQL Query Services</a></li><li class="tocline"><a class="tocxref" href="#updateServices"><bdi class="secno">3.2 </bdi>SPARQL 1.2 Update Services</a></li><li class="tocline"><a class="tocxref" href="#entailmentConsistency"><bdi class="secno">3.3 </bdi>Entailment and Consistency</a></li></ol></li><li class="tocline"><a class="tocxref" href="#updateLanguage"><bdi class="secno">4. </bdi>SPARQL 1.2 Update Language</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#graphUpdate"><bdi class="secno">4.1 </bdi>Graph Update</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#insertData"><bdi class="secno">4.1.1 </bdi>INSERT DATA</a></li><li class="tocline"><a class="tocxref" href="#deleteData"><bdi class="secno">4.1.2 </bdi>DELETE DATA</a></li><li class="tocline"><a class="tocxref" href="#deleteInsert"><bdi class="secno">4.1.3 </bdi>DELETE/INSERT</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#delete"><bdi class="secno">4.1.3.1 </bdi>DELETE (Informative)</a></li><li class="tocline"><a class="tocxref" href="#insert"><bdi class="secno">4.1.3.2 </bdi>INSERT (Informative)</a></li><li class="tocline"><a class="tocxref" href="#deleteWhere"><bdi class="secno">4.1.3.3 </bdi>DELETE WHERE</a></li></ol></li><li class="tocline"><a class="tocxref" href="#load"><bdi class="secno">4.1.4 </bdi>LOAD</a></li><li class="tocline"><a class="tocxref" href="#clear"><bdi class="secno">4.1.5 </bdi>CLEAR</a></li></ol></li><li class="tocline"><a class="tocxref" href="#graphManagement"><bdi class="secno">4.2 </bdi>Graph Management</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#create"><bdi class="secno">4.2.1 </bdi>CREATE</a></li><li class="tocline"><a class="tocxref" href="#drop"><bdi class="secno">4.2.2 </bdi>DROP</a></li><li class="tocline"><a class="tocxref" href="#copy"><bdi class="secno">4.2.3 </bdi>COPY</a></li><li class="tocline"><a class="tocxref" href="#move"><bdi class="secno">4.2.4 </bdi>MOVE</a></li><li class="tocline"><a class="tocxref" href="#add"><bdi class="secno">4.2.5 </bdi>ADD</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#formalModel"><bdi class="secno">5. </bdi>SPARQL Update Formal Model</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#formalModelGeneral"><bdi class="secno">5.1 </bdi>General Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#def_graphstore"><bdi class="secno">5.1.1 </bdi>Graph Store</a></li><li class="tocline"><a class="tocxref" href="#def_updateoperation"><bdi class="secno">5.1.2 </bdi>Abstract Update Operation</a></li></ol></li><li class="tocline"><a class="tocxref" href="#formalModelAuxiliary"><bdi class="secno">5.2 </bdi>Auxiliary Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#def_datasetUnion"><bdi class="secno">5.2.1 </bdi>Dataset-UNION</a></li><li class="tocline"><a class="tocxref" href="#def_datasetDiff"><bdi class="secno">5.2.2 </bdi>Dataset-DIFF</a></li><li class="tocline"><a class="tocxref" href="#def_datasetQuadPattern"><bdi class="secno">5.2.3 </bdi>Dataset( <code><span data-cite="SPARQL12-QUERY#rQuadPattern" class="formerLink">QuadPattern</span></code>, μ, DS, GS
          )</a></li><li class="tocline"><a class="tocxref" href="#def_datasetPattern"><bdi class="secno">5.2.4 </bdi>Dataset( <code><span data-cite="SPARQL12-QUERY#rQuadPattern" class="formerLink">QuadPattern</span></code>, <em>P</em>, DS, GS
          )</a></li></ol></li><li class="tocline"><a class="tocxref" href="#formalModelGraphUpdate"><bdi class="secno">5.3 </bdi>Graph Update Operations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#def_insertdataoperation"><bdi class="secno">5.3.1 </bdi>Insert Data Operation</a></li><li class="tocline"><a class="tocxref" href="#def_deletedataoperation"><bdi class="secno">5.3.2 </bdi>Delete Data Operation</a></li><li class="tocline"><a class="tocxref" href="#def_deleteinsertoperation"><bdi class="secno">5.3.3 </bdi>Delete Insert Operation</a></li><li class="tocline"><a class="tocxref" href="#def_loadoperation"><bdi class="secno">5.3.4 </bdi>Load Operation</a></li><li class="tocline"><a class="tocxref" href="#def_clearOperation"><bdi class="secno">5.3.5 </bdi>Clear Operation</a></li></ol></li><li class="tocline"><a class="tocxref" href="#formalModelGraphMgt"><bdi class="secno">5.4 </bdi>Graph Management Operations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#def_createOperation"><bdi class="secno">5.4.1 </bdi>Create Operation</a></li><li class="tocline"><a class="tocxref" href="#def_dropOperation"><bdi class="secno">5.4.2 </bdi>Drop Operation</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mappingRequestsToOperations"><bdi class="secno">5.5 </bdi>Mapping Update Requests to the Formal Model</a></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">6. </bdi>Conformance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance-0"><bdi class="secno">6.1 </bdi>Conformance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#security-original"><bdi class="secno">7. </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#mediaType"><bdi class="secno">8. </bdi>Internet Media Type, File Extension and Macintosh File Type</a></li><li class="tocline"><a class="tocxref" href="#grammar"><bdi class="secno">9. </bdi>SPARQL 1.2 Update Grammar</a></li><li class="tocline"><a class="tocxref" href="#sec-bibliography"><bdi class="secno">10. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-existing-stds"><bdi class="secno">10.1 </bdi>Normative References</a></li><li class="tocline"><a class="tocxref" href="#null"><bdi class="secno">10.2 </bdi>Other References</a></li></ol></li><li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">11. </bdi>Privacy Considerations</a></li><li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">12. </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#internationalization"><bdi class="secno">13. </bdi>Internationalization Considerations</a></li><li class="tocline"><a class="tocxref" href="#changes-from-sparql11"><bdi class="secno">A. </bdi>Change Log</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">B. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">B.1 </bdi>Terms defined by this specification</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">B.2 </bdi>Terms defined by reference</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1 </bdi>Normative references</a></li></ol></li></ol></nav>

    <section id="related"><div class="header-wrapper"><h2 id="x1-set-of-documents"><bdi class="secno">1. </bdi>Set of Documents</h2><a class="self-link" href="#related" aria-label="Permalink for Section 1."></a></div>
<p>This document is one of twelve SPARQL 1.2 Recommendations produced by the <a href="https://www.w3.org/groups/wg/rdf-star">RDF-star Working Group</a>:</p>

<p>SPARQL 1.2 Recommendations:</p>
<ol>
  <li><cite><a data-matched-text="[[[SPARQL12-NEW]]]" href="https://w3c.github.io/sparql-new/spec/">What’s New in SPARQL 1.2</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-CONCEPTS]]]" href="https://w3c.github.io/sparql-concepts/spec/">SPARQL 1.2 Concepts</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite></li>
  <li>SPARQL 1.2 Update(this document)</li>
  <li><cite><a data-matched-text="[[[SPARQL12-SERVICE-DESCRIPTION]]]" href="https://w3c.github.io/sparql-service-description/spec/">SPARQL 1.2 Service Description</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-FEDERATED-QUERY]]]" href="https://w3c.github.io/sparql-federated-query/spec/">SPARQL 1.2 Federated Query</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-JSON]]]" href="https://w3c.github.io/sparql-results-json/spec/">SPARQL 1.2 Query Results JSON Format</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-CSV-TSV]]]" href="https://w3c.github.io/sparql-results-csv-tsv/spec/">SPARQL 1.2 Query Results CSV and TSV Formats</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-RESULTS-XML]]]" href="https://w3c.github.io/sparql-results-xml/spec/">SPARQL 1.2 Query Results XML Formats</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-ENTAILMENT]]]" href="https://w3c.github.io/sparql-entailment/spec/">SPARQL 1.2 Entailment Regimes</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-PROTOCOL]]]" href="https://w3c.github.io/sparql-protocol/spec/">SPARQL 1.2 Protocol</a></cite></li>
  <li><cite><a data-matched-text="[[[SPARQL12-GRAPH-STORE-PROTOCOL]]]" href="https://w3c.github.io/sparql-graph-store-protocol/spec/">SPARQL 1.2 Graph Store HTTP Protocol</a></cite></li>
</ol>
</section>


    <section id="sec-intro"><div class="header-wrapper"><h2 id="x2-introduction"><bdi class="secno">2. </bdi>Introduction</h2><a class="self-link" href="#sec-intro" aria-label="Permalink for Section 2."></a></div>
      
      <p>SPARQL 1.2 Update is intended to be a standard language for specifying and executing updates to RDF graphs in a Graph Store.</p>
      <p>SPARQL 1.2 Update provides the following facilities:</p>
      <ul>
        <li>Insert triples into an RDF graph in the Graph Store.</li>
        <li>Delete triples from an RDF graph in the Graph Store.</li>
        <li>Load an RDF graph into the Graph Store.</li>
        <li>Clear an RDF graph in the Graph Store.</li>
        <li>Create a new RDF graph in a Graph Store.</li>
        <li>Drop an RDF graph from a Graph Store.</li>
        <li>Copy, move, or add the content of one RDF graph in the Graph Store to another.</li>
        <li>Perform a group of update operations as a single action.</li>
      </ul>
      <p>This document is particularly related to the following other specification documents:</p>
      <ul>
        <li><cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite></li>
        <li><cite><a data-matched-text="[[[SPARQL12-GRAPH-STORE-PROTOCOL]]]" href="https://w3c.github.io/sparql-graph-store-protocol/spec/">SPARQL 1.2 Graph Store HTTP Protocol</a></cite></li>
        <li><cite><a data-matched-text="[[[SPARQL12-PROTOCOL]]]" href="https://w3c.github.io/sparql-protocol/spec/">SPARQL 1.2 Protocol</a></cite></li>
      </ul>
      <p>SPARQL 1.2 Update is a companion language and envisaged to be used in conjunction with the <em>SPARQL 1.2 Query language</em>. The present document refers to the grammar and several
      definitions from the <em>SPARQL 1.2 Query language</em> specification.</p>
      <p>The <em>SPARQL 1.2 Graph Store HTTP Protocol</em> specification employs the HTTP protocol to perform update operations using standard HTTP methods, such as PUT and DELETE. While providing a
      simple and well known API, it is necessarily restricted in its operations due to the limited set of methods in the HTTP protocol. In contrast, SPARQL 1.2 Update permits multiple modifications
      in a single operation, and can use complex SPARQL queries for constructing data to be inserted, or choosing data to be deleted. Also, the use of an update language facilitates operations over
      proprietary APIs and connections that may not involve HTTP.</p>
      <p>The <em>SPARQL 1.2 Protocol for RDF</em> specification describes a means of conveying SPARQL 1.2 Query and SPARQL 1.2 Update operations from clients to a <a href="https://w3c.github.io/sparql-query/spec/#introduction" id="ref-for-index-term-sparql-query-processing-service-1">SPARQL query processing service</a>, and for returning appropriate results. Together with the SPARQL 1.2 Query and SPARQL 1.2 Update (this
      document) specifications, these form an alternative to the <em>SPARQL 1.2 Graph Store HTTP Protocol</em> with comprehensive, though more complex functionality.</p>
      <section id="documentConventions"><div class="header-wrapper"><h3 id="x2-1-document-conventions"><bdi class="secno">2.1 </bdi>Document Conventions</h3><a class="self-link" href="#documentConventions" aria-label="Permalink for Section 2.1"></a></div>
        
        <section id="languageForm"><div class="header-wrapper"><h4 id="x2-1-1-language-form"><bdi class="secno">2.1.1 </bdi>Language Form</h4><a class="self-link" href="#languageForm" aria-label="Permalink for Section 2.1.1"></a></div>
          
          <p>The operations in this document contain language forms describing their use. These are meant as illustrative forms of the formal grammar described in the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-1">SPARQL 1.2 Query</a> document. Any discrepancies between the language forms in this document and the grammar in SPARQL 1.2 Query will
          defer to the formal grammar in SPARQL 1.2 Query.</p>
          <p>Language forms are shown informally in this document as for instance:</p>
          <pre class="defn nohighlight">( <strong>WITH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-1">IRIref</a></em>  )?
( ( <em><a href="https://w3c.github.io/sparql-query/spec/#rDeleteClause" id="ref-for-index-term-deleteclause-1">DeleteClause</a> <a href="https://w3c.github.io/sparql-query/spec/#rInsertClause" id="ref-for-index-term-insertclause-1">InsertClause</a></em>? ) | <em><a href="https://w3c.github.io/sparql-query/spec/#rInsertClause" id="ref-for-index-term-insertclause-2">InsertClause</a></em> )
( <strong>USING</strong> ( <strong>NAMED</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-2">IRIref</a></em> )*
<strong>WHERE</strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-1">GroupGraphPattern</a></em></code></pre>
          <p>Unlike other forms of EBNF where square brackets denote optionality, here <code><strong>[]</strong></code> is used for blank nodes, as in SPARQL Query. <code>|</code> is used to denote
          alternatives, <code>()</code> is used for grouping terms, <code>?</code> indicates 0 or 1 occurrence of a term, <code>*</code> indicates 0 or more occurrences, and <code>+</code> indicates
          1 or more occurrences.</p>
          <p><code><strong>BOLD</strong></code> indicates language keywords. <code><em>Italics</em></code> indicate syntactic items defined in the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-2">SPARQL 1.2 Query Grammar</a>, where we occasionally refer to productions by links. Unitalicized text indicates a local term that will
          have a more complex (and exact) definition in the formal grammar.</p>
          <p>Example update requests are shown as follows:</p>
          <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
INSERT { &lt;http://example/egbook&gt; dc:title  "This is an example title" } WHERE {}</pre>
          <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p><code>PREFIX</code> definitions and the <a href="https://w3c.github.io/sparql-query/spec/#QSynIRI" id="ref-for-index-term-syntax-for-iris-1">syntax for IRIs</a> in update requests in
            general follow the same conventions as in the <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite>.
          </div></div>
          <p>Data is shown in Turtle syntax as follows:</p>
          <pre class="data" aria-busy="false"><code class="hljs">@prefix dc:   &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix :     &lt;http://example.org/books/&gt; .
:book0  dc:title  "SPARQL Tutorial" .</code></pre>
        </section>
        <section id="terminology"><div class="header-wrapper"><h4 id="x2-1-2-terminology"><bdi class="secno">2.1.2 </bdi>Terminology</h4><a class="self-link" href="#terminology" aria-label="Permalink for Section 2.1.2"></a></div>
          
          <p>When this document uses the words <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em>, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST NOT</em></em>, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em>, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD NOT</em></em>, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> and <strong>recommended</strong>, and the words appear as emphasized text, they must be interpreted as described in <a href="http://www.faqs.org/rfcs/rfc2119.html">RFC 2119</a> [RFC2119].</p>
          <p>The following terms are also in use throughout this document:</p>
          <ul>
            <li><span class="doc-ref" id="operation">Operation</span> - An action to be performed that results in the modification of data in a <a href="#graphStore">Graph Store</a> expressible as a
            single command, e.g. <a href="#insertData">INSERT</a> or <a href="#deleteData">DELETE</a>.</li>
            <li><span class="doc-ref" id="request">Request</span> - A sequence of zero or more operations that is sent to a Graph Store. When using the <cite><a data-matched-text="[[[SPARQL12-PROTOCOL]]]" href="https://w3c.github.io/sparql-protocol/spec/">SPARQL 1.2 Protocol</a></cite> a request will be one HTTP POST.</li>
          </ul>
          <p>The following terms are also used in this document as defined in the SPARQL 1.2 Query Language:</p>
          <ul>
            <li><code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-1">QuadPattern</a></em></code> - A syntactic construct that refers to a set of triple patterns, similar to
            <code><em><a href="https://w3c.github.io/sparql-query/spec/#rConstructTriples" id="ref-for-index-term-constructtriples-1">ConstructTriples</a></em></code>, but potentially involving the <code>GRAPH</code> keyword to indicate that a
            set of triples is to be inserted into/deleted from a named graph.</li>
            <li><code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadData" id="ref-for-index-term-quaddata-1">QuadData</a></em></code> - A <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-2">QuadPattern</a></em></code> without variables.</li>
            <li><code><em><a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-2">GroupGraphPattern</a></em></code> - A syntactic construct for referring to a set of triples, possibly with
            complex constraints.</li>
          </ul>
        </section>
      </section>
    </section>
    <section id="graphStore"><div class="header-wrapper"><h2 id="x3-the-graph-store"><bdi class="secno">3. </bdi>The Graph Store</h2><a class="self-link" href="#graphStore" aria-label="Permalink for Section 3."></a></div>
      
      <p>A Graph Store is a mutable container of RDF graphs managed by a single service. Similar to an <a href="https://w3c.github.io/sparql-query/spec/#sparqlDataset" id="ref-for-index-term-rdf-dataset-1">RDF Dataset</a> operated on by the
      <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite>, a Graph Store contains one (unnamed) slot holding a <em>default graph</em> and zero or more named slots holding
      <em>named graphs</em>. Operations <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> specify graphs to be modified, or they <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> rely on a <em>default graph</em> for that operation. Unless overridden (for instance, by the SPARQL protocol), the unnamed graph for the store will be the
      default graph for any operations on that store. Depending on implementation, the unnamed graph <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> refer to a separate graph, a
      graph describing the named graphs, a representation of a union of other graphs, etc.</p>
      <p>Unlike an RDF Dataset, named graphs can be added to or deleted from a Graph Store. A Graph Store needs not be authoritative for the graphs it contains. That means a Graph Store can keep
      local copies of RDF graphs defined elsewhere on the Web and modify those copies independently of the original graph.</p>
      <p>In the simple case where there is one unnamed graph and no named graphs, SPARQL 1.2 Update can be used as a graph update language (as opposed to a Graph Store update language).</p>
      <p>The information how a Graph Store is accessed is defined in the protocol and Graph Store protocol specs. A Graph Store is accessible by either an update service (cf. protocol) or via the
      Graph Store protocol (cf. Graph Store protocol). In either case the Graph Store is hidden behind the service, making it accessible via the URI of a SPARQL update service or via a URI that
      responds to the Graph Store protocol.</p>
      <p>A formal definition for Graph Stores and how SPARQL 1.2 Update affects them is described in the <a href="#formalModel">SPARQL 1.2 Update Formal Model section</a>.</p>
      <section id="graphStoreQueryServices"><div class="header-wrapper"><h3 id="x3-1-graph-store-and-sparql-query-services"><bdi class="secno">3.1 </bdi>Graph Store and SPARQL Query Services</h3><a class="self-link" href="#graphStoreQueryServices" aria-label="Permalink for Section 3.1"></a></div>
        
        <p>A service (often referred to by the informal term <em>SPARQL endpoint</em>) that accepts and processes update requests is referred to as an <em>update service</em>. There is no presumption
        that the Graph Store managed by an update service exactly corresponds to any RDF Dataset offered by some query service. A query service <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> offer an RDF Dataset formed from graphs that are part of an update service's Graph Store. The graphs in the query service's RDF Dataset <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> be a subset of the graphs in the update service's Graph Store. Furthermore, the query service's RDF Dataset and the update service's
        Graph Store <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> use different names for the same graphs.</p>
      </section>
      <section id="updateServices"><div class="header-wrapper"><h3 id="x3-2-sparql-1-2-update-services"><bdi class="secno">3.2 </bdi>SPARQL 1.2 Update Services</h3><a class="self-link" href="#updateServices" aria-label="Permalink for Section 3.2"></a></div>
        
        <p>SPARQL 1.2 Update requests are sequences of operations.</p>
        <p>Each request <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> be treated atomically by a SPARQL 1.2 Update service. The term 'atomically' means that a single request
        will result in either no effect or a complete effect, regardless of the number of operations that may be present in the request. Any resulting concurrency issues will be a matter for each
        implementation to consider according to its own architecture. In particular, using the <a href="https://w3c.github.io/sparql-federated-query/spec/#service" id="ref-for-index-term-service-1">SERVICE</a> keyword in the WHERE clause
        of operations in an Update request will usually result in a loss of atomicity.</p>
        <p>In the case of two different update services, whose respective Graph Stores contain graphs with the same names, there is no presumption that the updates done through one service will be
        propagated to the other, as the stores are independent entities. The behaviour of these services with respect to each other (such as automatic synchronization after updates) is implementation
        dependent.</p>
      </section>
      <section id="entailmentConsistency"><div class="header-wrapper"><h3 id="x3-3-entailment-and-consistency"><bdi class="secno">3.3 </bdi>Entailment and Consistency</h3><a class="self-link" href="#entailmentConsistency" aria-label="Permalink for Section 3.3"></a></div>
        
        <p>If the store is capable of calculating entailed answers, see <cite><a data-matched-text="[[[SPARQL12-ENTAILMENT]]]" href="https://w3c.github.io/sparql-entailment/spec/">SPARQL 1.2 Entailment Regimes</a></cite>, then it is possible for update
        operations to interact with entailed data. In particular, a <code>DELETE</code> operation may attempt to remove entailed statements without actual effects.</p>
        <p>After an update request is completed, a store that performs consistency checking with respect to a particular entailment regime on its graphs <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> check the new state of the Graph Store for consistency. If inconsistency is detected, such a store <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> return an error to the request.</p>
        <p>Also of note is that some stores may be capable of performing entailments with respect to an ontology capable of higher level processing, such as RDFS or OWL. Updates may interact with
        these entailment regimes in these systems.</p>
      </section>
    </section>
    <section id="updateLanguage"><div class="header-wrapper"><h2 id="x4-sparql-1-2-update-language"><bdi class="secno">4. </bdi>SPARQL 1.2 Update Language</h2><a class="self-link" href="#updateLanguage" aria-label="Permalink for Section 4."></a></div>
      
      <p>SPARQL 1.2 Update supports two categories of update operations on a Graph Store:</p>
      <ul>
        <li>Graph Update - addition and removal of triples from some graphs within the Graph Store.</li>
        <li>Graph Management - creating and deletion of graphs within the Graph Store, as well as convenient shortcuts for graph update operations often used during graph management (to add, move,
        and copy graphs).</li>
      </ul>
      <p>A request is a sequence of operations and is terminated by EOF (End of File). Multiple operations are separated by a ';' (semicolon) character. A semicolon after the last operation in a
      request is optional. Implementations <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> ensure that the operations of a single request are executed in a fashion that guarantees
      the same effects as executing them sequentially in the order they appear in the request.</p>
      <p>Operations all result either in <em>success</em> or <em>failure</em>. A <em>failure</em> result <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> be accompanied by extra
      information, indicating that some portion of the operations in the request were successful. This document does not stipulate the exact form of the result, as that will be dependent on the
      interface being used, for instance the <cite><a data-matched-text="[[[SPARQL12-PROTOCOL]]]" href="https://w3c.github.io/sparql-protocol/spec/">SPARQL 1.2 Protocol</a></cite> via HTTP or a programmatic API. If multiple operations are present in a single
      request, then a result of <em>failure</em> from any operation <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> abort the sequence of operations, causing the subsequent
      operations to be ignored.</p>
      <p>The formal semantics of the following operations is defined in <a href="#formalModel">Section 4</a> of this document.</p>
      <section id="graphUpdate"><div class="header-wrapper"><h3 id="x4-1-graph-update"><bdi class="secno">4.1 </bdi>Graph Update</h3><a class="self-link" href="#graphUpdate" aria-label="Permalink for Section 4.1"></a></div>
        
        <p>Graph update operations change existing graphs in the Graph Store but do not explicitly delete nor create them. Non-empty inserts into non-existing graphs will, however,
        <em>implicitly</em> create those graphs, i.e., an implementation fulfilling an update request <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> silently an automatically
        create graphs that do not exist before triples are inserted into them, and <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> return with failure if it fails to do so for any
        reason. (For example, the implementation may have insufficient resources, or an implementation may only provide an update service over a fixed set of graphs and the implicitly created graph
        is not within this fixed set). An implementation <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> remove graphs that are left empty after triples are removed from them.</p>
        <p>If a graph is created implicitly by an update operation, then the behavior of the Graph Store <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> be functionally equivalent
        to its behavior if the graph had been created explicitly by a CREATE operation.</p>
        <p>SPARQL 1.2 Update provides these graph update operations:</p>
        <ul>
          <li>The <code><a href="#insertData">INSERT DATA</a></code> operation adds some triples, given inline in the request, into a graph. This <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> create the destination graph if it does not exist. If the graph does not exist and it can not be created for any reason, then a failure <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> be returned.</li>
          <li>The <code><a href="#deleteData">DELETE DATA</a></code> operation removes some triples, given inline in the request, if the respective graph contains those.</li>
          <li>The fundamental pattern-based actions for graph updates are <code>INSERT</code> and <code>DELETE</code> (which can co-occur in a single <code><a href="#deleteInsert">DELETE/INSERT</a></code> operation). These actions consist of groups of triples to be deleted and groups of triples to be added. The specification of the triples is based on
          query patterns. The difference between <code>INSERT</code> / <code>DELETE</code> and <code>INSERT DATA</code> / <code>DELETE DATA</code> is that <code>INSERT DATA</code> and <code>DELETE
          DATA</code> do not substitute bindings into a template from a pattern. The <code>DATA</code> forms require concrete data (triple templates containing variables within <code>DELETE
          DATA</code> and <code>INSERT DATA</code> operations are disallowed and blank nodes are disallowed within <code>DELETE DATA</code>, see Notes 8+9 in the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-3">grammar</a>).&nbsp; Having specific operations for concrete data means that a request can be streamed so that large, pure-data updates
          can be done.</li>
          <li>The <code><a href="#load">LOAD</a></code> operation reads the contents of a document representing a graph into a graph in the Graph Store.</li>
          <li>The <code><a href="#clear">CLEAR</a></code> operation removes all the triples in (one or more) graphs.</li>
        </ul>
        <section id="insertData"><div class="header-wrapper"><h4 id="x4-1-1-insert-data"><bdi class="secno">4.1.1 </bdi>INSERT DATA</h4><a class="self-link" href="#insertData" aria-label="Permalink for Section 4.1.1"></a></div>
          
          <p>The <code><a href="#insertData">INSERT DATA</a></code> operation adds some triples, given inline in the request, into the Graph Store:</p>
          <pre class="defn nohighlight"><strong>INSERT DATA </strong> <em><code><a href="https://w3c.github.io/sparql-query/spec/#rQuadData" id="ref-for-index-term-quaddata-2">QuadData</a></code></em></pre>
          <p>where <code><em>QuadData</em></code> are formed by <code><em><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-1">TriplesTemplate</a></em></code>s, i.e., sets of triple
          patterns, optionally wrapped into a <code>GRAPH</code> block.</p>
          <pre class="defn nohighlight"><code>( <strong>GRAPH</strong>  <em><a href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" id="ref-for-index-term-varoriri-1">VarOrIri</a></em> )? { <em><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-2">TriplesTemplate</a></em>? }</code></pre>
          <p>Variables in <code><em>QuadData</em></code>s are disallowed in <code>INSERT DATA</code> requests (see Notes 8 in the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-4">grammar</a>). That is, the <code>INSERT DATA</code> statement only allows to insert ground triples. Blank nodes in
          <code><em>QuadData</em></code>s are assumed to be disjoint from the blank nodes in the Graph Store, i.e., will be inserted with "fresh" blank nodes.</p>
          <p>If no graph is described in the <code><em>QuadData</em></code>, then the default graph is presumed. If data is inserted into a graph that does not exist in the Graph Store, it <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> be created (there may be implementations providing an update service over a fixed set of graphs which in such case <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> return with failure for update requests that insert data into an unallowed graph).</p>
          <p>Note that a triple <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> be considered to be "processed" with no action if that triple already exists in the graph. Further,
          note that</p>
          <pre class="query nohighlight">INSERT DATA { GRAPH &lt;g&gt; {} } ...</pre>
          <p>does not create <code>&lt;g&gt;</code>. If a user intends to just create a graph, then the graph management operations (<code>CREATE</code>/<code>LOAD</code>) may be used prior to any
          insertion operations.</p>
          <p><strong>Example 1: <span class="doc-ref" id="example_1"></span>Adding some triples to a graph</strong></p>
          <p>This snippet describes two RDF triples to be inserted into the default graph of the Graph Store.</p>
          <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
INSERT DATA
{ 
  &lt;http://example/book1&gt; dc:title "A new book" ;
                         dc:creator "A.N.Other" .
}</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ns: &lt;http://example.org/ns#&gt; .

&lt;http://example/book1&gt; ns:price 42 .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ns: &lt;http://example.org/ns#&gt; .

&lt;http://example/book1&gt; ns:price 42 .
&lt;http://example/book1&gt; dc:title "A new book" .
&lt;http://example/book1&gt; dc:creator "A.N.Other" .</code></pre>
          <p><strong>Example 2:</strong></p>
          <p><span class="doc-ref" id="example_2"></span>This SPARQL 1.2 Update request adds a triple to provide the price of a book. As opposed to the previous example, which affected the default graph,
          the requested change happens in the named graph identified by the IRI <code>http://example/bookStore</code>.</p>
          <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX ns: &lt;http://example.org/ns#&gt;
INSERT DATA
{ GRAPH &lt;http://example/bookStore&gt; { &lt;http://example/book1&gt;  ns:price  42 } }</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ns: &lt;http://example.org/ns#&gt; .
&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; ns:price 42 .</code></pre>
        </section>
        <section id="deleteData"><div class="header-wrapper"><h4 id="x4-1-2-delete-data"><bdi class="secno">4.1.2 </bdi>DELETE DATA</h4><a class="self-link" href="#deleteData" aria-label="Permalink for Section 4.1.2"></a></div>
          
          <p>The <code><a href="#deleteData">DELETE DATA</a></code> operation removes some triples, given inline in the request, if the respective graphs in the Graph Store contain those:</p>
          <pre class="defn nohighlight"><strong>DELETE DATA </strong> <em><code><a href="https://w3c.github.io/sparql-query/spec/#rQuadData" id="ref-for-index-term-quaddata-3">QuadData</a></code></em></pre>
          <p><code><em>QuadData</em></code> denotes triples to be removed and is as described in <code><a href="#insertData">INSERT DATA</a></code>, with the difference that in a <code>DELETE
          DATA</code> operation neither variables nor blank nodes are allowed (see Notes 8+9 in the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-5">grammar</a>).</p>
          <p>As with <code>INSERT DATA</code>, <code>DELETE DATA</code> is meant for deletion of ground triples data which is why <code><em>QuadData</em></code> that contains variables or blank nodes
          is disallowed in <code>DELETE DATA</code> operations. The <code><a href="#deleteInsert">DELETE/INSERT</a></code> operation can be used to remove triples containing blank nodes.</p>
          <p>Note that the deletion of non-existing triples has no effect, i.e., triples in the <code><em>QuadData</em></code> that did not exist in the Graph Store are ignored. Blank nodes are not
          permitted in the <code><em>QuadData</em></code>, as these do not match any existing data.</p>
          <p><strong>Example 3: Removing triples from a graph</strong></p>
          <p><span class="doc-ref" id="example_3"></span>This request describes 2 triples to be removed from the default graph of the Graph Store.</p>
          <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;

DELETE DATA
{
  &lt;http://example/book2&gt; dc:title "David Copperfield" ;
                         dc:creator "Edmund Wells" .
}</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ns: &lt;http://example.org/ns#&gt; .

&lt;http://example/book2&gt; ns:price 42 .
&lt;http://example/book2&gt; dc:title "David Copperfield" .
&lt;http://example/book2&gt; dc:creator "Edmund Wells" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ns: &lt;http://example.org/ns#&gt; .

&lt;http://example/book2&gt; ns:price 42 .</code></pre>
          <p><strong>Example 4:</strong></p>
          <p><span class="doc-ref" id="example_4"></span>This SPARQL 1.2 Update request consists of two operations, including a triple to be deleted and a triple to be added (used here to correct a book
          title). As opposed to the previous example, which affected the default graph, the requested change happens in the named graph identified by the IRI
          <code>http://example/bookStore</code>.</p>
          <pre class="query nohighlight">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
DELETE DATA
{ GRAPH &lt;http://example/bookStore&gt; { &lt;http://example/book1&gt;  dc:title  "Fundamentals of Compiler Desing" } } ;

PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
INSERT DATA
{ GRAPH &lt;http://example/bookStore&gt; { &lt;http://example/book1&gt;  dc:title  "Fundamentals of Compiler Design" } }</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Desing" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .</code></pre>
        </section>
        <section id="deleteInsert"><div class="header-wrapper"><h4 id="x4-1-3-delete-insert"><bdi class="secno">4.1.3 </bdi>DELETE/INSERT</h4><a class="self-link" href="#deleteInsert" aria-label="Permalink for Section 4.1.3"></a></div>
          
          <p>The <code><a href="#deleteInsert">DELETE/INSERT</a></code> operation can be used to remove or add triples from/to the Graph Store based on bindings for a query pattern specified in a
          <code>WHERE</code> clause:</p>
          <pre class="defn nohighlight">( <strong>WITH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-3">IRIref</a></em> )?
( ( <em><a href="https://w3c.github.io/sparql-query/spec/#rDeleteClause" id="ref-for-index-term-deleteclause-2">DeleteClause</a> <a href="https://w3c.github.io/sparql-query/spec/#rInsertClause" id="ref-for-index-term-insertclause-3">InsertClause</a></em>? ) | <em><a href="https://w3c.github.io/sparql-query/spec/#rInsertClause" id="ref-for-index-term-insertclause-4">InsertClause</a></em> )
( <strong>USING ( NAMED )?</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-4">IRIref</a></em> )*
<strong>WHERE</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-3">GroupGraphPattern</a></em></pre>
          <p>The <em>DeleteClause</em> and <em>InsertClause</em> forms can be broken down as follows:</p>
          <pre class="defn nohighlight" id="delete_insert_clause"><em>DeleteClause</em> ::= <strong>DELETE </strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-3">QuadPattern</a></em></code> 
<em>InsertClause</em> ::= <strong>INSERT </strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-4">QuadPattern</a></em></code></pre>
          <p>This operation identifies data with the <code>WHERE</code> clause, which will be used to compute solution sequences of bindings for a set of variables. The bindings for each solution are
          then substituted into the <code>DELETE</code> template to remove triples, and then in the <code>INSERT</code> template to create new triples. If any solution produces a triple containing an
          unbound variable or an illegal RDF construct, such as a literal in a subject or predicate position, then that triple is not included when processing the operation: <code>INSERT</code> will
          not instantiate new data in the output graph, and <code>DELETE</code> will not remove anything. The graphs used for computing a solution sequence may be different to the graphs modified
          with the <code>DELETE</code> and <code>INSERT</code> templates.</p>
          <p>The <code>WITH</code> clause defines the graph that will be modified or matched against for any of the subsequent elements (in <code>DELETE</code>, <code>INSERT</code>, or
          <code>WHERE</code> clauses) if they do not specify a graph explicitly. If not provided, then the default graph of the Graph Store (or an explicitly declared dataset in the
          <code>WHERE</code> clause) will be assumed. That is, a <code>WITH</code> clause may be viewed as syntactic sugar for wrapping both the <code><em>QuadPattern</em></code>s in subsequent
          <code>DELETE</code> and <code>INSERT</code> clauses, and likewise the <code><em>GroupGraphPattern</em></code> in the subsequent <code>WHERE</code> clause into <code>GRAPH</code> patterns.
          This can be used to avoid refering to the same graph multiple times in a single operation.</p>
          <p>Following the optional <code>WITH</code> clause are the <code>INSERT</code> and/or <code>DELETE</code> clauses. The deletion of the triples happens before the insertion. The pattern in
          the <code>WHERE</code> clause is evaluated only once, before the delete part of the operation is performed. The overall processing model is that the pattern is executed, the results used to
          instantiate the <code>DELETE</code> template, the deletes performed, the results used again to instantiate the <code>INSERT</code> template, and the inserts performed.</p>
          <p>If the <code>DELETE</code> clause is omitted, then the operation only inserts data (see <code><a href="#insert">INSERT</a></code>). If the <code>INSERT</code> clause is omitted, then the
          operation only removes data (see <code><a href="#delete">DELETE</a></code>). The grammar does not permit both <code>DELETE</code> and <code>INSERT</code> to be omitted in the same
          operation.</p>
          <p>The <code><span class="doc-ref" id="defUSING">USING</span></code> and
<code><span class="doc-ref" id="defUSINGNAMED">USING NAMED</span></code> clauses affect the <a href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="ref-for-index-term-rdf-dataset-0-1">RDF Dataset</a> used while
          evaluating the <code>WHERE</code> clause. This describes a dataset in the same way as <code>FROM</code> and <code>FROM NAMED</code> clauses describe <a href="https://w3c.github.io/sparql-query/spec/#specifyingDataset" id="ref-for-index-term-rdf-datasets-in-the-sparql-1-2-query-language-1">RDF Datasets in the SPARQL 1.2 Query Language</a>. The keyword <code>USING</code> instead of <code>FROM</code> in update requests is
          to avoid possible ambiguities which could arise from writing "<code>DELETE FROM</code>". That is, the <a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-4"><code><em>GroupGraphPattern</em></code></a> in the <code>WHERE</code> clause will be matched against the dataset described by
          explicit <code>USING</code> or <code>USING NAMED</code> clauses, if specified, and against the Graph Store otherwise.</p>
          <p>The <code>WITH</code> clause provides a convenience for when an operation primarily refers to a single graph. If a graph name is specified in a <code>WITH</code> clause, then - for the
          purposes of evaluating the <code>WHERE</code> clause - this will define an RDF Dataset containing a default graph with the specified name, but only in the absence of <code>USING</code> or
          <code>USING NAMED</code> clauses. In the presence of one or more graphs referred to in <code>USING</code> clauses and/or <code>USING NAMED</code> clauses, the <code>WITH</code> clause will
          be ignored while evaluating the <code>WHERE</code> clause.</p>
          <p>The <a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-5"><code><em>GroupGraphPattern</em></code></a> in the <code>WHERE</code> clause is evaluated as in a SPARQL query
          "<code>SELECT * WHERE <em>GroupGraphPattern</em></code>" and all the solution bindings are applied to the preceding <code>DELETE</code> and <code>INSERT</code> templates for defining the
          triples to be deleted from or inserted into the Graph Store.</p>
          <p>Again, <code><em>QuadPattern</em></code>s are formed by <code><em><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-3">TriplesTemplate</a></em></code>s, i.e., sets of triple
          patterns, optionally wrapped into a <code>GRAPH</code> block, where the <code>GRAPH</code> clause indicates the named graph in the Graph Store to be updated; on any
          <code><em>TripleTemplate</em></code>s without a <code>GRAPH</code> clause, the <code>INSERT</code> or <code>DELETE</code> clauses applies to the graph specified by the <code>WITH</code>
          clause, or the default graph of the Graph Store if no <code>WITH</code> clause is present.</p>
          <p>To illustrate the use of the <code>WITH</code> clause, an operation of the general form:</p>
          <pre class="query nohighlight">WITH &lt;g1&gt; DELETE { a b c } INSERT { x y z } WHERE { ... }</pre>
          <p>is considered equivalent to:</p>
          <pre class="query nohighlight">DELETE { GRAPH &lt;g1&gt; { a b c } } INSERT { GRAPH &lt;g1&gt; { x y z } } USING &lt;g1&gt; WHERE { ... }</pre>
          <p>Note that explicit <code>GRAPH</code> clauses override a <code>WITH</code> clause. <code>WITH</code> provides a fallback to specify a graph (different from the default graph) to use when
          one is not explicitly stipulated via <code>GRAPH</code>.</p>
          <p>Deleting triples that are not present, or from a graph that is not present will have no effect and will result in <em>success</em>. Blank nodes are prohibited in a <code>DELETE</code>
          template, since using a new blank node in a <code>DELETE</code> template would lead to nothing being deleted, as a new blank node cannot match anything in the Graph Store. It should be
          noted that this restriction is not in the EBNF for the <a href="https://w3c.github.io/sparql-query/spec/#rDeleteClause" id="ref-for-index-term-deleteclause-3"><code><em>DeleteClause</em></code></a> itself, but made explicit in Note
          9 to the <a href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="ref-for-index-term-sparql-1-2-query-6">grammar</a>.</p>
          <p>If an operation tries to insert into a graph that does not exist, then that graph <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> be created; again, there may be
          implementations providing an update service over a fixed set of graphs which in such case <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> return with failure for update
          requests that would create an unallowed graph. If no data is to be inserted, then no graph will be created. Particularly, note that</p>
          <pre class="query nohighlight">INSERT ... { GRAPH &lt;g&gt; {} } ...</pre>
          <p>does not create &lt;g&gt;. If a user intends to create a graph regardless of the data to be inserted, then the graph management operations (<code><a href="#create">CREATE</a></code>/<code><a href="#create">LOAD</a></code>) may be used prior to any insertion operations.</p>
          <p>Blank nodes that appear in an <code>INSERT</code> clause operate similarly to blank nodes in the template of a <code>CONSTRUCT</code> query, i.e., they are re-instantiated for any
          solution of the <code>WHERE</code> clause; refer to <a href="https://w3c.github.io/sparql-query/spec/#templatesWithBNodes" id="ref-for-index-term-templates-with-blank-nodes-1">Templates with Blank Nodes</a> in SPARQL Query 1.2 and to the <a href="#def_deleteinsertoperation">formal semantics of DELETE/INSERT</a> below for details. Blank nodes in the <code>WHERE</code> clause match data in the same way as for any SPARQL Query.</p>
          <p><strong>Example 5:</strong></p>
          <p><span class="doc-ref" id="example_5"></span>An example to update the graph <code>http://example/addresses</code> to rename all people with the given name "Bill" to "William".</p>
          <pre class="query nohighlight">PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;

WITH &lt;http://example/addresses&gt;
DELETE { ?person foaf:givenName 'Bill' }
INSERT { ?person foaf:givenName 'William' }
WHERE
  { ?person foaf:givenName 'Bill'
  }</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/president25&gt; foaf:givenName "Bill" .
&lt;http://example/president25&gt; foaf:familyName "McKinley" .
&lt;http://example/president27&gt; foaf:givenName "Bill" .
&lt;http://example/president27&gt; foaf:familyName "Taft" .
&lt;http://example/president42&gt; foaf:givenName "Bill" .
&lt;http://example/president42&gt; foaf:familyName "Clinton" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/president25&gt; foaf:givenName "William" .
&lt;http://example/president25&gt; foaf:familyName "McKinley" .
&lt;http://example/president27&gt; foaf:givenName "William" .
&lt;http://example/president27&gt; foaf:familyName "Taft" .
&lt;http://example/president42&gt; foaf:givenName "William" .
&lt;http://example/president42&gt; foaf:familyName "Clinton" .</code></pre>
          <section id="delete"><div class="header-wrapper"><h5 id="x4-1-3-1-delete-informative"><bdi class="secno">4.1.3.1 </bdi>DELETE (Informative)</h5><a class="self-link" href="#delete" aria-label="Permalink for Section 4.1.3.1"></a></div>
            
            <pre class="defn nohighlight">( <strong>WITH</strong>  <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-5">IRIref</a></em> )?
<strong>DELETE </strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-5">QuadPattern</a></em></code> 
( <strong>USING ( NAMED )?</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-6">IRIref</a></em> )*
<strong>WHERE</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-6">GroupGraphPattern</a></em></pre>
            <p>The <code>DELETE</code> operation is a form of the <a href="#deleteInsert"><code>DELETE/INSERT</code></a> operation having no <code>INSERT</code> section. A compliant implementation of
            <code>DELETE/INSERT</code> will already implement this operation correctly. The <code>DELETE</code> operation is described here separately for clarity. Analogous to <a href="#deleteInsert"><code>DELETE/INSERT</code></a>, deleting triples that are not present, or from a graph that is not present will have no effect and will result in success.</p>
            <p>If any <code>DELETE</code> template specifies a <code>GRAPH</code> then this will be the graph affected. Otherwise, the operation will be applied to the graph specified in the
            <code>WITH</code> clause, if one was specified, or the default graph otherwise.</p>
            <p>The <code>WHERE</code> clause identifies data in existing graphs, and creates bindings to be used by the template. The graphs to apply the <em>GroupGraphPattern</em> follow the same
            rules as for <code>DELETE/INSERT</code>.</p>
            <p><strong>Example 6:</strong></p>
            <p><span class="doc-ref" id="example_6"></span>This example request deletes all records of old books (with date before year 1970) from the store's default graph:</p>
            <pre class="query nohighlight">PREFIX dc:  &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;

DELETE
 { ?book ?p ?v }
WHERE
 { ?book dc:date ?date .
   FILTER ( ?date &lt; "1970-01-01T00:00:00-02:00"^^xsd:dateTime )
   ?book ?p ?v
 }</pre>
            <p>The pattern in <code>WHERE</code> is matched against the Graph Store. The resulting sequence of solutions to the <code>WHERE</code> clause is used to instantiate the triple patterns in the
            <code>DELETE</code> template similar to CONSTRUCT in SPARQL 1.2 Query. The resulting triples are then removed from the Graph Store.</p>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .

&lt;http://example/book1&gt; dc:title "Principles of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1977-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book2&gt; ns:price 42 .
&lt;http://example/book2&gt; dc:title "David Copperfield" .
&lt;http://example/book2&gt; dc:creator "Edmund Wells" .
&lt;http://example/book2&gt; dc:date "1948-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .

&lt;http://example/book2&gt; ns:price 42 .
&lt;http://example/book2&gt; dc:title "David Copperfield" .
&lt;http://example/book2&gt; dc:creator "Edmund Wells" .
&lt;http://example/book2&gt; dc:date "1948-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <p><strong>Example 7:</strong></p>
            <p><span class="doc-ref" id="example_7"></span>This example request removes all statements about anything with a given name of "Fred" from the graph <code>http://example/addresses</code>. A
            <code>WITH</code> clause is present, meaning that graph <code>http://example/addresses</code> is both the one from which triples are being removed and the one which the <code>WHERE</code>
            clause is matched against.</p>
            <pre class="query nohighlight">PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;

WITH &lt;http://example/addresses&gt;
DELETE { ?person ?property ?value } 
WHERE { ?person ?property ?value ; foaf:givenName 'Fred' }</pre>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox &lt;mailto:bill@example&gt; .

&lt;http://example/fred&gt; a foaf:Person .
&lt;http://example/fred&gt; foaf:givenName "Fred" .
&lt;http://example/fred&gt; foaf:mbox  &lt;mailto:fred@example&gt; .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
            <p>Another example of <code>DELETE</code> is provided in the <a href="#example_9">final example</a> in the following section which demonstrates multiple operations combining an
            <code>INSERT</code> with a <code>DELETE</code>.</p>
          </section>
          <section id="insert"><div class="header-wrapper"><h5 id="x4-1-3-2-insert-informative"><bdi class="secno">4.1.3.2 </bdi>INSERT (Informative)</h5><a class="self-link" href="#insert" aria-label="Permalink for Section 4.1.3.2"></a></div>
            
            <pre class="defn nohighlight">( <strong>WITH</strong>  <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-7">IRIref</a></em> )?
<strong>INSERT </strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-6">QuadPattern</a></em></code> 
( <strong>USING ( NAMED )?</strong>  <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-8">IRIref</a></em> )*
<strong>WHERE</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="ref-for-index-term-groupgraphpattern-7">GroupGraphPattern</a></em></pre>
            <p>The <code>INSERT</code> operation is a form of the <a href="#deleteInsert"><code>DELETE/INSERT</code></a> operation having no <code>DELETE</code> section. A compliant implementation of
            <code>DELETE/INSERT</code> will already implement this operation correctly. The <code>INSERT</code> operation is described here separately for clarity.</p>
            <p>If the <code>INSERT</code> template specifies <code>GRAPH</code> blocks then these will be the graphs affected. Otherwise, the operation will be applied to the default graph, or,
            respectively, to the graph specified in the <code>WITH</code> clause, if one was specified. If no <code>USING (NAMED)</code> clause is present, then the pattern in the <code>WHERE</code>
            clause will be matched against the Graph Store, otherwise against the dataset specified by the <code>USING (NAMED)</code> clauses. The matches against the <code>WHERE</code> clause create
            bindings to be applied to the template for determining triples to be inserted (following the same rules as for <a href="#deleteInsert"><code>DELETE/INSERT</code></a>).</p>
            <p>If any instantiation arising from the solution sequence produces a triple containing an unbound variable or an illegal RDF construct, such as a literal in subject or predicate
            position, then that triple is not inserted. The template can contain triples with no variables (known as ground or explicit triples), and these will also be inserted, provided that the
            solution sequence is not empty.</p>
            <p><strong>Example 8:</strong></p>
            <p><span class="doc-ref" id="example_8"></span>This example copies triples from one named graph to another named graph based on a pattern:</p>
            <pre class="query nohighlight">PREFIX dc:  &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;

INSERT 
  { GRAPH &lt;http://example/bookStore2&gt; { ?book ?p ?v } }
WHERE
  { GRAPH  &lt;http://example/bookStore&gt;
       { ?book dc:date ?date .
         FILTER ( ?date &gt; "1970-01-01T00:00:00-02:00"^^xsd:dateTime )
         ?book ?p ?v
  } }</pre>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1977-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book2&gt; ns:price 42 .
&lt;http://example/book2&gt; dc:title "David Copperfield" .
&lt;http://example/book2&gt; dc:creator "Edmund Wells" .
&lt;http://example/book2&gt; dc:date "1948-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore2
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .

&lt;http://example/book4&gt; dc:title "SPARQL 1.0 Tutorial" .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1977-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book2&gt; ns:price 42 .
&lt;http://example/book2&gt; dc:title "David Copperfield" .
&lt;http://example/book2&gt; dc:creator "Edmund Wells" .
&lt;http://example/book2&gt; dc:date "1948-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore2
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1977-01-01T00:00:00-02:00"^^xsd:dateTime .

&lt;http://example/book4&gt; dc:title "SPARQL 1.0 Tutorial" .</code></pre>
            <p><strong>Example 9:</strong></p>
            <p><span class="doc-ref" id="example_9"></span>This example copies triples of name and email from one named graph to another. Some individuals may not have an address, but the name is copied
            regardless:</p>
            <pre class="query nohighlight">PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;

INSERT 
  { GRAPH &lt;http://example/addresses&gt;
    {
      ?person  foaf:name  ?name .
      ?person  foaf:mbox  ?email
    } }
WHERE
  { GRAPH  &lt;http://example/people&gt;
    {
      ?person  foaf:name  ?name .
      OPTIONAL { ?person  foaf:mbox  ?email }
    } }</pre>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/people
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix rdf:  &gt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .

_:a  rdf:type        foaf:Person .
_:a  foaf:name       "Alice" .
_:a  foaf:mbox       &lt;mailto:alice@example.com&gt; .

_:b  rdf:type        foaf:Person .
_:b  foaf:name       "Bob" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/people
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix rdf:  &gt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .

_:a  rdf:type        foaf:Person .
_:a  foaf:name       "Alice" .
_:a  foaf:mbox       &lt;mailto:alice@example.com&gt; .

_:b  rdf:type        foaf:Person .
_:b  foaf:name       "Bob" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/addresses
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

_:a  foaf:name       "Alice" .
_:a  foaf:mbox       &lt;mailto:alice@example.com&gt; .

_:b  foaf:name       "Bob" .</code></pre>
            <p><strong>Example 10:</strong></p>
            <p><span class="doc-ref" id="example_10"></span>This example request first copies triples from one named graph to another named graph based on a pattern; triples about all the copied objects
            that are classified as Physical Objects are then deleted. This demonstrates two operations in a single request, both of which share common <code>PREFIX</code> definitions.</p>
            <pre class="query nohighlight">PREFIX dc:  &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX dcmitype: &lt;http://purl.org/dc/dcmitype/&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;

INSERT
  { GRAPH &lt;http://example/bookStore2&gt; { ?book ?p ?v } }
WHERE
  { GRAPH  &lt;http://example/bookStore&gt;
     { ?book dc:date ?date . 
       FILTER ( ?date &lt; "2000-01-01T00:00:00-02:00"^^xsd:dateTime )
       ?book ?p ?v
     }
  } ;

WITH &lt;http://example/bookStore&gt;
DELETE
 { ?book ?p ?v }
WHERE
 { ?book dc:date ?date ;
         dc:type dcmitype:PhysicalObject .
   FILTER ( ?date &lt; "2000-01-01T00:00:00-02:00"^^xsd:dateTime ) 
   ?book ?p ?v
 }</pre>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix dcmitype: &lt;http://purl.org/dc/dcmitype/&gt; .

&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1996-01-01T00:00:00-02:00"^^xsd:dateTime .
&lt;http://example/book1&gt; a dcmitype:PhysicalObject .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore2
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .

&lt;http://example/book4&gt; dc:title "SPARQL 1.0 Tutorial" .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix dcmitype: &lt;http://purl.org/dc/dcmitype/&gt; .

&lt;http://example/book3&gt; dc:title "SPARQL 1.2 Tutorial" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example/bookStore2
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix dcmitype: &lt;http://purl.org/dc/dcmitype/&gt; .

&lt;http://example/book1&gt; dc:title "Fundamentals of Compiler Design" .
&lt;http://example/book1&gt; dc:date "1996-01-01T00:00:00-02:00"^^xsd:dateTime .
&lt;http://example/book1&gt; a dcmitype:PhysicalObject .

&lt;http://example/book4&gt; dc:title "SPARQL 1.0 Tutorial" .</code></pre>
          </section>
          <section id="deleteWhere"><div class="header-wrapper"><h5 id="x4-1-3-3-delete-where"><bdi class="secno">4.1.3.3 </bdi>DELETE WHERE</h5><a class="self-link" href="#deleteWhere" aria-label="Permalink for Section 4.1.3.3"></a></div>
            
            <pre class="defn nohighlight"><strong>DELETE WHERE </strong> <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-7">QuadPattern</a></em></code></pre>
            <p>The <code>DELETE WHERE</code> operation is a shortcut form for the <a href="#deleteInsert"><code>DELETE/INSERT</code></a> operation where bindings matched by the <code>WHERE</code>
            clause are used to define the triples in a graph that will be deleted. Analogous to <code>DELETE/INSERT</code>, deleting triples that are not present, or from a graph that is not present
            will have no effect and will result in success.</p>
            <p>The <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-8">QuadPattern</a></em></code> is used both as a pattern for matching against triples and graphs, and as the
            template for deletion. If any <code><em>TripleTemplate</em></code>s within the <code><em><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-9">QuadPattern</a></em></code> appear in
            the scope of a <code>GRAPH</code> clause then this will determine the graph that that template is matched on, and also the graph from which any matching triples will be removed. Any
            <code><em>TripleTemplate</em></code>s not in the scope of a <code>GRAPH</code> clause will be matched against/removed from the default graph.</p>
            <p><strong>Example 11:</strong></p>
            <p><span class="doc-ref" id="example_11"></span>This example request removes all statements about anything with a given name of "Fred" from the default graph:</p>
            <pre class="query nohighlight">PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;

DELETE WHERE { ?person foaf:givenName 'Fred';
                       ?property      ?value }</pre>
            <p>Data before:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .

&lt;http://example/fred&gt; a foaf:Person .
&lt;http://example/fred&gt; foaf:givenName "Fred" .
&lt;http://example/fred&gt; foaf:mbox  &lt;mailto:fred@example&gt; .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
            <p><strong>Example 12:</strong></p>
            <p><span class="doc-ref" id="example_12"></span>This example request removes both statements naming some resource "Fred" in the graph <code>http://example.com/names</code>, and also
            statements about that resource from the graph <code>http://example/addresses</code> (assuming that some of the resources in the graph <code>http://example.com/names</code> have
            corresponding triples in the graph <code>http://example/addresses</code>).</p>
            <pre class="query nohighlight">PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;

DELETE WHERE {
  GRAPH &lt;http://example.com/names&gt; {
    ?person foaf:givenName 'Fred' ;
            ?property1 ?value1
  }
  GRAPH &lt;http://example.com/addresses&gt; {
    ?person ?property2 ?value2
  }
}</pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example.com/names
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .

&lt;http://example/fred&gt; a foaf:Person .
&lt;http://example/fred&gt; foaf:givenName "Fred" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example.com/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .

&lt;http://example/fred&gt; foaf:mbox  &lt;mailto:fred@example&gt; .</code></pre>
            <p>Data after:</p>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example.com/names
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .</code></pre>
            <pre class="data" aria-busy="false"><code class="hljs"># Graph: http://example.com/addresses
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          </section>
        </section>
        <section id="load"><div class="header-wrapper"><h4 id="x4-1-4-load"><bdi class="secno">4.1.4 </bdi>LOAD</h4><a class="self-link" href="#load" aria-label="Permalink for Section 4.1.4"></a></div>
          
          <p>The <code>LOAD</code> operation reads an RDF document from a IRI and inserts its triples into the specified graph in the Graph Store. The specified destination graph <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> be created if required; again, implementations providing an update service over a fixed set of graphs <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> return with failure for a request that would create a disallowed graph. If the destination graph already exists, then no data in that graph will be
          removed.</p>
          <pre class="defn nohighlight"><strong>LOAD</strong> ( <strong>SILENT</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-9">IRIref_from</a></em> ( <strong>INTO GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-10">IRIref_to</a></em> )?</pre>
          <p><em>IRIref_from</em> specifies the IRI of a document such that a store will be able to identify, locate and read the document. The most common form will be URLs with the <em>http</em>
          IRI schemes. Once the document has been read, the resulting triples will be inserted into the destination graph named by the IRI referred to by <em>IRIref_to</em>.</p>
          <p>If no destination graph IRI (<em>IRIref_to</em>) is provided to load the triples into, then the data will be loaded into the default graph.</p>
          <p>In case no RDF data can be retrieved (as opposed to the empty graph being retrieved) from the IRI denoted by <em>IRIref_from</em>, or in case the retrieval method returns an error (such
          as, for instance an HTTP error code), the SPARQL 1.2 Update service <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> return failure and the status of the Graph Store
          <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> remain in the same status as prior to the request; in case the keyword SILENT is present, however, the operation will
          still return success and the status of the Graph Store is not specified by the present document: implementations may create the destination graph or not and partially load data, in case of
          a transmission error where partial data has been received (which itself may be legal RDF).</p>
        </section>
        <section id="clear"><div class="header-wrapper"><h4 id="x4-1-5-clear"><bdi class="secno">4.1.5 </bdi>CLEAR</h4><a class="self-link" href="#clear" aria-label="Permalink for Section 4.1.5"></a></div>
          
          <p>The <code>CLEAR</code> operation removes all the triples in the specified graph(s) in the Graph Store.</p>
          <pre class="defn nohighlight"><strong>CLEAR</strong>  ( <strong>SILENT</strong> )? (<strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-11">IRIref</a></em> | <strong>DEFAULT</strong> | <strong>NAMED</strong> | <strong>ALL</strong> )</pre>
          <p>Here, the <code>DEFAULT</code> keyword is used to remove all triples in the default graph of the Graph Store, the <code>NAMED</code> keyword is used to remove all triples in all named
          graphs of the Graph Store and the <code>ALL</code> keyword is used to remove all triples in all graphs of the Graph Store. The <code>GRAPH</code> keyword is used to remove all triples from
          a graph denoted by <code><em>IRIref</em></code>. This operation is not required to remove the empty graphs from the Graph Store, but an implementation <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> decide to do so.</p>
          <pre class="defn nohighlight"># Remove all triples from a specified graph.
<strong>CLEAR GRAPH</strong> <em>IRIref</em></pre>
          <p>in principle has the same effect as:</p>
          <pre class="defn nohighlight"># Remove all triples from the graph named with the IRI denoted by <em>IRIref</em>.
<strong>DELETE</strong> { <strong>GRAPH</strong> <em>IRIref</em> { ?s ?p ?o } } <strong>WHERE</strong> { <strong>GRAPH</strong> <em>IRIref</em> { ?s ?p ?o } }</pre>
          <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p>For services which form the default graph from the union of other graphs, <code>CLEAR DEFAULT</code> may have further implications which we
            leave unspecified here.
          </div></div>
          <p>If the store records the existence of empty graphs, then the SPARQL 1.2 Update service, by default, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> return
          <em>failure</em> if the specified graph does not exist. If <code>SILENT</code> is present, the result of the operation will always be success.</p>
          <p>Stores that do not record empty graphs will always return <em>success</em>.</p>
        </section>
      </section>
      <section id="graphManagement"><div class="header-wrapper"><h3 id="x4-2-graph-management"><bdi class="secno">4.2 </bdi>Graph Management</h3><a class="self-link" href="#graphManagement" aria-label="Permalink for Section 4.2"></a></div>
        
        <p>Graph management operations allow creating, destroying, moving and copying named graphs in the Graph Store, or adding the contents of one graph to another. Operations for creation and
        destruction are not required to result in any actions, since Graph Stores are not required to record the existence of empty named graphs.</p>
        <p>The default graph in a Graph Store always exists.</p>
        <p>SPARQL 1.2 Update provides these graph management operations:</p>
        <ul>
          <li>The <code><a href="#create">CREATE</a></code> operation creates a new graph in stores that support empty graphs.</li>
          <li>The <code><a href="#drop">DROP</a></code> operation removes a graph and all of its contents.</li>
          <li>The <code><a href="#copy">COPY</a></code> operation modifies a graph to contain a copy of another.</li>
          <li>The <code><a href="#move">MOVE</a></code> operation moves all of the data from one graph into another.</li>
          <li>The <code><a href="#add">ADD</a></code> operation reproduces all data from one graph into another.</li>
        </ul>
        <section id="create"><div class="header-wrapper"><h4 id="x4-2-1-create"><bdi class="secno">4.2.1 </bdi>CREATE</h4><a class="self-link" href="#create" aria-label="Permalink for Section 4.2.1"></a></div>
          
          <p>This operation creates a graph in the Graph Store:</p>
          <pre class="defn nohighlight"><strong>CREATE</strong> ( <strong>SILENT</strong> )? <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-12">IRIref</a></em></pre>
          <p>For stores that record empty graphs, this will create a new empty graph in the store with a name specified by the IRI. If the graph already exists, then a <em>failure</em> <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> be returned, except when the <code>SILENT</code> keyword is used; in either case, the contents of already existing graphs remain
          unchanged. If the graph may not be created, then a <em>failure</em> <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> be returned, except when the <code>SILENT</code>
          keyword is used.</p>
          <p>Stores that do not record empty named graphs will always return <em>success</em> on creation of a non-existing graph.</p>
        </section>
        <section id="drop"><div class="header-wrapper"><h4 id="x4-2-2-drop"><bdi class="secno">4.2.2 </bdi>DROP</h4><a class="self-link" href="#drop" aria-label="Permalink for Section 4.2.2"></a></div>
          
          <pre class="query nohighlight"><strong>DROP</strong>  ( <strong>SILENT</strong> )? (<strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-13">IRIref</a></em> | <strong>DEFAULT</strong> | <strong>NAMED</strong> | <strong>ALL</strong> )</pre>
          <p>The <code>DROP</code> operation removes the specified graph(s) from the Graph Store. The <code>GRAPH</code> keyword is used to remove a graph denoted by <code><em>IRIref</em></code>, the
          <code>DEFAULT</code> keyword is used to remove the default graph from the Graph Store, the <code>NAMED</code> keyword is used to remove all named graphs from the Graph Store, and the
          <code>ALL</code> keyword is used to remove all graphs from the Graph Store, i.e., resetting the store. After successful completion of this operation, the specified graphs are no longer
          available for further graph update operations. However, in case the <code>DEFAULT</code> graph of the Graph Store is dropped, implementations <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MUST</em></em> restore it after it was removed, i.e., <code>DROP DEFAULT</code> is equivalent to <code><a href="#clear">CLEAR DEFAULT</a></code>.</p>
          <p>If the store records the existence of empty graphs, then the SPARQL 1.2 Update service, by default, <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">SHOULD</em></em> return
          <em>failure</em> if the specified named graph does not exist. If <code>SILENT</code> is present, the result of the operation will always be success.</p>
          <p>Stores that do not record empty graphs will always return <em>success</em>.</p>
        </section>
        <section id="copy"><div class="header-wrapper"><h4 id="x4-2-3-copy"><bdi class="secno">4.2.3 </bdi>COPY</h4><a class="self-link" href="#copy" aria-label="Permalink for Section 4.2.3"></a></div>
          
          <p>The <code>COPY</code> operation is a shortcut for inserting all data from an input graph into a destination graph. Data from the input graph is not affected, but data from the
          destination graph, if any, is removed before insertion.</p>
          <pre class="query nohighlight"><strong>COPY</strong> ( <strong>SILENT</strong> )? ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-14">IRIref_from</a></em> | <strong>DEFAULT</strong>) <strong>TO</strong> ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-15">IRIref_to</a></em> | <strong>DEFAULT</strong> )</pre>
          <p>is similar in operation to:</p>
          <pre class="query nohighlight"><strong>DROP</strong> <strong>SILENT</strong> (<strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-16">IRIref_to</a></em> | <strong>DEFAULT</strong>);
      <strong>INSERT</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-17">IRIref_to</a></em> )? <strong>{ ?s ?p ?o } } WHERE</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-18">IRIref_from</a></em> )? <strong>{ ?s ?p ?o } }</strong></pre>
          <p>The difference between <code>COPY</code> and the <code>DROP/INSERT</code> combination is that if <code>COPY</code> is used to copy a graph onto itself then no operation will be performed
          and the data will be left as it was. Using <code>DROP/INSERT</code> in this situation would result in an empty graph.</p>
          <p>If the destination graph does not exist, it will be created. By default, the service <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> return <em>failure</em> if the input
          graph does not exist. If <code>SILENT</code> is present, the result of the operation will always be success.</p>
          <p><strong>Example 13:</strong></p>
          <p><span class="doc-ref" id="example_13"></span>This example request copies all statements from the default graph to a named graph:</p>
          <pre class="query nohighlight">COPY DEFAULT TO &lt;http://example.org/named&gt;</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
&lt;http://example/fred&gt; a foaf:Person .
&lt;http://example/fred&gt; foaf:givenName "Fred" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <p>Note that the original content in <code>http://example.org/named</code> is lost by a <code>COPY</code> operation.</p>
        </section>
        <section id="move"><div class="header-wrapper"><h4 id="x4-2-4-move"><bdi class="secno">4.2.4 </bdi>MOVE</h4><a class="self-link" href="#move" aria-label="Permalink for Section 4.2.4"></a></div>
          
          <p>The <code>MOVE</code> operation is a shortcut for moving all data from an input graph into a destination graph. The input graph is removed after insertion and data from the destination
          graph, if any, is removed before insertion.</p>
          <pre class="query nohighlight"><strong>MOVE</strong> (<strong>SILENT</strong>)? ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-19">IRIref_from</a></em> | <strong>DEFAULT</strong>) <strong>TO</strong> ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-20">IRIref_to</a></em> | <strong>DEFAULT</strong>)</pre>
          <p>is similar in operation to:</p>
          <pre class="query nohighlight"><strong>DROP SILENT</strong> (<strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-21">IRIref_to</a></em> | <strong>DEFAULT</strong>);
      <strong>INSERT</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-22">IRIref_to</a></em> )? <strong>{ ?s ?p ?o } } WHERE</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-23">IRIref_from</a></em> )? <strong>{ ?s ?p ?o } };
DROP</strong> ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-24">IRIref_from</a></em> | <strong>DEFAULT</strong>)</pre>
          <p>The difference between <code>MOVE</code> and the <code>DROP/INSERT/DROP</code> combination is that if <code>MOVE</code> is used to move a graph onto itself then no operation will be
          performed and the data will be left as it was. Using <code>DROP/INSERT/DROP</code> in this situation would result in the graph being removed.</p>
          <p>If the destination graph does not exist, it will be created. By default, the service <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> return <em>failure</em> if the input
          graph does not exist. If <code>SILENT</code> is present, the result of the operation will always be success.</p>
          <p><strong>Example 14:</strong></p>
          <p><span class="doc-ref" id="example_14"></span>This example request moves all statements from the default graph into a named graph:</p>
          <pre class="query nohighlight">MOVE DEFAULT TO &lt;http://example.org/named&gt;</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/fred&gt; a foaf:Person .
&lt;http://example/fred&gt; foaf:givenName "Fred" .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <p>Note that the original content in <code>http://example.org/named</code> is lost by a <code>MOVE</code> operation.</p>
        </section>
        <section id="add"><div class="header-wrapper"><h4 id="x4-2-5-add"><bdi class="secno">4.2.5 </bdi>ADD</h4><a class="self-link" href="#add" aria-label="Permalink for Section 4.2.5"></a></div>
          
          <p>The <code>ADD</code> operation is a shortcut for inserting all data from an input graph into a destination graph. Data from the input graph is not affected, and initial data from the
          destination graph, if any, is kept intact.</p>
          <pre class="query nohighlight"><strong>ADD</strong> ( <strong>SILENT</strong> )? ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-25">IRIref_from</a></em> | <strong>DEFAULT</strong>) <strong>TO</strong> ( ( <strong>GRAPH</strong> )? <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-26">IRIref_to</a></em> | <strong>DEFAULT</strong>)</pre>
          <p>is equivalent to:</p>
          <pre class="query nohighlight"><strong>INSERT</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-27">IRIref_to</a></em> )? <strong>{ ?s ?p ?o } } WHERE</strong> { ( <strong>GRAPH</strong> <em><a href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="ref-for-index-term-iriref-28">IRIref_from</a></em> )? <strong>{ ?s ?p ?o } }</strong></pre>
          <p>If the destination graph does not exist, it will be created. By default, the service <em class="rfc2119" title="Keyword in RFC 2119 context"><em class="rfc2119">MAY</em></em> return <em>failure</em> if the input
          graph does not exist. If <code>SILENT</code> is present, the result of the operation will always be success.</p>
          <p><strong>Example 15:</strong></p>
          <p><span class="doc-ref" id="example_15"></span>This example request adds all statements from the default graph to a named graph:</p>
          <pre class="query nohighlight">ADD DEFAULT TO &lt;http://example.org/named&gt;</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/fred&gt; a foaf:Person .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
          <pre class="data" aria-busy="false"><code class="hljs"># Graph http://example.org/named
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example/fred&gt; a foaf:Person .

&lt;http://example/william&gt; a foaf:Person .
&lt;http://example/william&gt; foaf:givenName "William" .
&lt;http://example/william&gt; foaf:mbox  &lt;mailto:bill@example&gt; .</code></pre>
        </section>
      </section>
    </section>
    <section id="formalModel"><div class="header-wrapper"><h2 id="x5-sparql-update-formal-model"><bdi class="secno">5. </bdi>SPARQL Update Formal Model</h2><a class="self-link" href="#formalModel" aria-label="Permalink for Section 5."></a></div>
      
      <p>This section formally defines the semantics of Update Operations by describing their effects in terms of transformations of the Graph Store.</p>
      <section id="formalModelGeneral"><div class="header-wrapper"><h3 id="x5-1-general-definitions"><bdi class="secno">5.1 </bdi>General Definitions</h3><a class="self-link" href="#formalModelGeneral" aria-label="Permalink for Section 5.1"></a></div>
        
        <section id="def_graphstore"><div class="header-wrapper"><h4 id="x5-1-1-graph-store"><bdi class="secno">5.1.1 </bdi>Graph Store</h4><a class="self-link" href="#def_graphstore" aria-label="Permalink for Section 5.1.1"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_graphStore">Definition: Graph Store</span></strong></p>
            <p>A Graph Store GS is a mutable container of RDF graphs. It has one unnamed (default) slot and zero or more named slots. The unnamed slot holds an RDF graph; each named slot is a pair of
            a graph and an associated IRI. The Graph Store can be viewed as a mutable <a href="https://w3c.github.io/sparql-query/spec/#sparqlDataset" id="ref-for-index-term-rdf-dataset-2">RDF Dataset.</a></p>
            <p>GS = {DG, (iri<sub>1</sub>, G<sub>1</sub>), ... , (iri<sub>n</sub>, G<sub>n</sub>) }</p>
            <p>where</p>
            <ul>
              <li>the default graph DG is the RDF graph associated with the unnamed slot</li>
              <li>n ≥ 0 and for each 1 ≤ i ≤ n, G<sub>i</sub> is an RDF graph associated with the named slot identified by IRI iri<sub>i</sub></li>
              <li>all IRIs are distinct, i.e., i≠j implies iri<sub>i</sub>≠iri<sub>j</sub></li>
            </ul>
          </div>
          <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p>We will use GS for the Graph Store, but sometimes also - synonymously - for the RDF Dataset corresponding to the current Graph Store content in
            subsequent definitions. For convenience, we will also sometimes write GS = {DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} as an alternative mathematical notation for GS = {DG,
            (iri<sub>1</sub>, G<sub>1</sub>), ... , (iri<sub>n</sub>, G<sub>n</sub>) } in subsequent definitions.
          </div></div>
        </section>
        <section id="def_updateoperation"><div class="header-wrapper"><h4 id="x5-1-2-abstract-update-operation"><bdi class="secno">5.1.2 </bdi>Abstract Update Operation</h4><a class="self-link" href="#def_updateoperation" aria-label="Permalink for Section 5.1.2"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_updateOperation">Definition: Update Operation</span></strong></p>
            <p>An Update Operation Op is an atomic operation that accepts some arguments Args and transforms a Graph Store GS to another Graph Store GS', denoted as</p>
            <p>Op(GS, Args) = GS'</p>
            <p>By 'atomic operation' we mean that the operation performs the described transformation of the Graph Store either completely or leaves the Graph Store unchanged, i.e., the result is
            either GS' or GS (in case of error).</p>
            <p>An Update Operation can create new slots and new RDF graphs, or can remove existing slots and the corresponding graphs. It can also alter the state of each slot individually.</p>
          </div>
          <p>We will define the semantics of each concrete update operation in terms of concrete instances of this abstract update operation definition.</p>
        </section>
      </section>
      <section id="formalModelAuxiliary"><div class="header-wrapper"><h3 id="x5-2-auxiliary-definitions"><bdi class="secno">5.2 </bdi>Auxiliary Definitions</h3><a class="self-link" href="#formalModelAuxiliary" aria-label="Permalink for Section 5.2"></a></div>
        
        <p>In the following we present auxiliary functions and basic operations for creating the union, and difference of <a href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="ref-for-index-term-rdf-dataset-0-2">RDF Datasets</a>.
        The concrete update operations will be defined in terms of those basic operations.</p>
        <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div><div class="">
          <p class="prefix"><strong>Note:</strong></p>In the following definitions, we write 'union', 'intersect' and 'minus' to denote the respective set operations (union, intersection, and set
          difference).
        </div></div>
        <section id="def_datasetUnion"><div class="header-wrapper"><h4 id="x5-2-1-dataset-union"><bdi class="secno">5.2.1 </bdi>Dataset-UNION</h4><a class="self-link" href="#def_datasetUnion" aria-label="Permalink for Section 5.2.1"></a></div>
          
          <p>This basic operation creates the union of two RDF Datasets.</p>
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_datasetUnion">Definition: Dataset-UNION</span></strong></p>
            <p>Let DS={DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} and DS' = {DG'} union {(iri'<sub>j</sub>, G'<sub>j</sub>) | 1 ≤ j ≤ m} be two RDF Datasets. Let further graphNames(DS)
            = { iri<sub>i</sub> | 1 ≤ i ≤ n} and graphNames(DS') = {iri'<sub>j</sub> | 1 ≤ j ≤ m}. The Dataset-UNION between DS and DS' is defined as follows:</p>
            <p>Dataset-UNION(DS, DS') = {DG union DG'} union {(iri, G) | iri in graphNames(DS) union graphNames(DS')}</p>
            <p>and G defined as</p>
            <ul>
              <li>G<sub>i</sub> for iri = iri<sub>i</sub> such that iri<sub>i</sub> in graphNames(DS) minus graphNames(DS')</li>
              <li>G'<sub>j</sub> for iri = iri'<sub>j</sub> such that iri<sub>j</sub> in graphNames(DS') minus graphNames(DS)</li>
              <li>G<sub>i</sub> union G'<sub>j</sub> for iri = iri<sub>i</sub> = iri'<sub>j</sub> in graphNames(DS) intersect graphNames(DS')</li>
            </ul>
            <p>where union between graphs is defined as set-union of triples in those graphs.</p>
          </div>
          <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p>Note that, in the following, whenever we write Dataset-UNION( <em>X</em> ) where <em>X</em> = {DS<sub>1</sub>,DS<sub>2</sub>,...
            ,DS<sub>n</sub>} is a set of datasets, we understand this as a shorthand for Dataset-UNION(DS<sub>1</sub>, Dataset-UNION(DS<sub>2</sub>, ... , Dataset-UNION(DS<sub>n</sub>,{})...)).
          </div></div>
        </section>
        <section id="def_datasetDiff"><div class="header-wrapper"><h4 id="x5-2-2-dataset-diff"><bdi class="secno">5.2.2 </bdi>Dataset-DIFF</h4><a class="self-link" href="#def_datasetDiff" aria-label="Permalink for Section 5.2.2"></a></div>
          
          <p>This operation removes the triples of a given dataset from another dataset.</p>
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_datasetDiff">Definition: Dataset-DIFF</span></strong></p>
            <p>Let DS={DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} and DS' = {DG'} union {(iri'<sub>j</sub>, G'<sub>j</sub>) | 1 ≤ j ≤ m}) be two RDF Datasets. Let further graphNames(DS)
            = { iri<sub>i</sub> | 1 ≤ i ≤ n} and graphNames(DS') = {iri'<sub>j</sub> | 1 ≤ j ≤ m}. The Dataset-DIFF between DS and DS' is defined as follows:</p>
            <p>Dataset-DIFF(DS, DS') = {DG minus DG'} union { (iri, G) | iri in graphNames(DS) })</p>
            <p>and G defined as</p>
            <ul>
              <li>G<sub>i</sub> for iri = iri<sub>i</sub> such that iri<sub>i</sub> in graphNames(DS) minus graphNames(DS')</li>
              <li>G<sub>i</sub> minus G'<sub>j</sub> for iri = iri<sub>i</sub> = iri'<sub>j</sub> in graphNames(DS) intersect graphNames(DS')</li>
            </ul>
            <p>where G<sub>i</sub> minus G'<sub>j</sub> is defined as set-difference over the sets of triples in the two graphs.</p>
          </div>
        </section>
        <section id="def_datasetQuadPattern"><div class="header-wrapper"><h4 id="x5-2-3-dataset-quadpattern-ds-gs"><bdi class="secno">5.2.3 </bdi>Dataset( <code><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-10">QuadPattern</a></code>, μ, DS, GS
          )</h4><a class="self-link" href="#def_datasetQuadPattern" aria-label="Permalink for Section 5.2.3"></a></div>
          
          <p>The following auxiliary function constructs an RDF Dataset from a <code><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-11">QuadPattern</a></code>, given a solution mapping and
          an RDF Dataset.</p>
          <div class="defn">
            <p>Let μ be a <a href="https://w3c.github.io/sparql-query/spec/#sparqlSolutions" id="ref-for-index-term-solution-mapping-1">solution mapping</a>, DS={DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} be an RDF Dataset and GS be
            the current state of the Graph Store. DS is distinguished from GS as they may differ, for instance, due to the use of <code>USING [NAMED]</code> to modify DS.</p>
            <p>For a <em>QuadPattern</em> of the form</p>
            <ul>
              <li>
                <p><code><span class="token">'{}'</span></code></p>
                <p>Dataset(<em>QuadPattern</em>, μ, DS, GS ) = {{}} i.e., the empty dataset consisting only of an empty default graph.</p>
              </li>
              <li>
                <p><code><span class="token">'{'</span> <a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-4">TriplesTemplate</a>? <span class="token">'}'</span></code></p>
                <p>Dataset(<em>QuadPattern</em>, μ, DS, GS ) is the Dataset consisting of only a default graph composed by all <a href="https://w3c.github.io/rdf-concepts/spec/#dfn-rdf-triple" id="ref-for-index-term-valid-rdf-triples-1">valid RDF
                triples</a> obtained from substituting the variables in sk<sub>μ</sub>(<code><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-5">TriplesTemplate</a></code>) according to μ
                and combining these triples into a single RDF graph by set union.</p>
              </li>
              <li>
                <p><code><span class="token">'GRAPH'</span> <a href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" id="ref-for-index-term-varoriri-2">VarOrIri</a> <span class="token">'{'</span> <a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-6">TriplesTemplate</a>? <span class="token">'}'</span></code></p>
                <p>Dataset(<em>QuadPattern</em>, μ, DS, GS ) is the Dataset consisting of an empty default graph, plus - in case μ(<code><a href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" id="ref-for-index-term-varoriri-3">VarOrIri</a></code>) yields a valid IRI - a named graph (μ(<code><a href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" id="ref-for-index-term-varoriri-4">VarOrIri</a></code>), <em>G</em>) such that <em>G</em> is composed by all valid RDF triples obtained from substituting the variables
                in sk<sub>μ</sub>(<code><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-7">TriplesTemplate</a></code>) according to μ and combining these triples into a single RDF graph
                by set union.</p>
              </li>
              <li>
                <p><code><span class="token">'{'</span></code> <em>QuadPattern1</em> <em>QuadPattern2</em> <code><span class="token">'}'</span></code></p>
                <p>Dataset(<em>QuadPattern</em>, μ , DS, GS ) = Dataset-UNION ( Dataset(<em>QuadPattern1</em>, μ, DS, GS ) , Dataset(<em>QuadPattern2</em>, μ, DS, GS ) )</p>
              </li>
            </ul>
            <p>Here, sk<sub>μ</sub>(<code><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-8">TriplesTemplate</a></code>) stands for replacing any blank nodes occurring in the
            <code><a href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="ref-for-index-term-triplestemplate-9">TriplesTemplate</a></code> with a new, unique blank node (unique to the current update request and to each μ and
            different from any blank nodes used in DS or in GS).</p>
          </div>
          <p>The function sk<sub>μ</sub> guarantees that "fresh" blank nodes in the QuadPattern are re-instantiated "per solution" μ (analogous to the <a href="https://w3c.github.io/sparql-query/spec/#templatesWithBNodes" id="ref-for-index-term-templates-with-blank-nodes-2">treatment of blank nodes in <code>CONSTRUCT</code> templates</a> in the <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite>); cf. also the respective <a href="https://w3c.github.io/sparql-query/spec/#grammarBNodes" id="ref-for-index-term-remarks-on-scoping-of-blank-nodes-within-requests-in-the-sparql-grammar-1">remarks on scoping of blank nodes within requests in the SPARQL grammar</a>.</p>
        </section>
        <section id="def_datasetPattern"><div class="header-wrapper"><h4 id="x5-2-4-dataset-quadpattern-p-ds-gs"><bdi class="secno">5.2.4 </bdi>Dataset( <code><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-12">QuadPattern</a></code>, <em>P</em>, DS, GS
          )</h4><a class="self-link" href="#def_datasetPattern" aria-label="Permalink for Section 5.2.4"></a></div>
          
          <p>The following auxiliary function constructs an RDF Dataset from a <code><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-13">QuadPattern</a></code>, given a graph pattern and an
          RDF Dataset.</p>
          <div class="defn">
            <p>Let <em>P</em> be a Graph Pattern and DS={DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} be an RDF Dataset and GS be the current state of the Graph Store. Then</p>
            <p>Dataset(<em>QuadPattern</em>, <em>P</em>, DS, GS ) = Dataset-UNION( { Dataset(<em>QuadPattern</em>, μ, DS, GS) | μ in <em>eval'</em>(DS(DG),<em>P</em>) } )</p>
            <p>i.e., the union over all μ such that μ is in the solutions of <em>P</em> over dataset DS.</p>
            <p>Here, <em>eval'</em>() is defined exactly like the evaluation function <a href="https://w3c.github.io/sparql-query/spec/#sparqlAlgebraEval" id="ref-for-index-term-eval-1">eval</a>() in the <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite>, with the only exception, that - as opposed to the <a href="https://w3c.github.io/sparql-query/spec/#BGPsparqlBNodes" id="ref-for-index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query-1">treatment of blank nodes in BGP matching for SPARQL 1.2 Query</a> - here the <em>scoping graph</em> SG used for BGP matching is equal
            to the active graph, i.e., blank nodes from the active graph are preserved in solutions.</p>
          </div>
          <p>The definition of eval'() guarantees that co-referent blank nodes in DS are not "lost" during pattern evaluation, cf. <a href="https://w3c.github.io/sparql-query/spec/#BGPsparqlBNodes" id="ref-for-index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query-2">Treatment of Blank Nodes</a> in <cite><a data-matched-text="[[[SPARQL12-QUERY]]]" href="https://w3c.github.io/sparql-query/spec/">SPARQL 1.2 Query Language</a></cite>. The latter is necessary to ensure
          that blank nodes in DS can be matched against existing blank nodes in GS to remove/add triples. In order to illustrate matching against existing blank nodes in the Graph Store, the
          following update request removes all triples with blank node as subject.</p>
          <pre class="query nohighlight">DELETE { ?S ?P ?O . } WHERE { ?S ?P ?O . FILTER ( isBlank(?S)) }</pre>
          <p>Data before:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix :      &lt;http://example.com/&gt; .
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

_:b a foaf:Person .
:s  a foaf:Person .</code></pre>
          <p>Data after:</p>
          <pre class="data" aria-busy="false"><code class="hljs"># Default graph
@prefix foaf:  &lt;http://xmlns.com/foaf/0.1/&gt; .

:s  a foaf:Person .</code></pre>
        </section>
      </section>
      <section id="formalModelGraphUpdate"><div class="header-wrapper"><h3 id="x5-3-graph-update-operations"><bdi class="secno">5.3 </bdi>Graph Update Operations</h3><a class="self-link" href="#formalModelGraphUpdate" aria-label="Permalink for Section 5.3"></a></div>
        
        <section id="def_insertdataoperation"><div class="header-wrapper"><h4 id="x5-3-1-insert-data-operation"><bdi class="secno">5.3.1 </bdi>Insert Data Operation</h4><a class="self-link" href="#def_insertdataoperation" aria-label="Permalink for Section 5.3.1"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_insertDataOperation">Definition: Insert Data Operation</span></strong></p>
            <p>A <a href="#insertData">Insert Data Operation</a> is an Update Operation in which new triples, given as a (ground) <em>QuadPattern</em>, are added in the Graph Store GS, in the default
            slot or in named slots.</p>
            <p>OpInsertData(GS, <em>QuadPattern</em>) = Dataset-UNION(GS, Dataset(<em>QuadPattern</em>,{},GS,GS))</p>
            <p>where {} is the empty solution mapping.</p>
          </div>
        </section>
        <section id="def_deletedataoperation"><div class="header-wrapper"><h4 id="x5-3-2-delete-data-operation"><bdi class="secno">5.3.2 </bdi>Delete Data Operation</h4><a class="self-link" href="#def_deletedataoperation" aria-label="Permalink for Section 5.3.2"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_deleteDataOperation">Definition: Delete Data Operation</span></strong></p>
            <p>A <a href="#deleteData">Delete Data Operation</a> OpDeleteData is an Update Operation in which triples, given as a (ground) <em>QuadPattern</em>, are removed from the Graph Store GS,
            from the default slot or from named slots.</p>
            <p>OpDeleteData(GS, <em>QuadPattern</em>) = Dataset-DIFF(GS, Dataset(<em>QuadPattern</em>,{},GS,GS))</p>
            <p>where {} is the empty solution mapping.</p>
          </div>
        </section>
        <section id="def_deleteinsertoperation"><div class="header-wrapper"><h4 id="x5-3-3-delete-insert-operation"><bdi class="secno">5.3.3 </bdi>Delete Insert Operation</h4><a class="self-link" href="#def_deleteinsertoperation" aria-label="Permalink for Section 5.3.3"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_deleteInsertOperation">Definition: Delete Insert Operation</span></strong></p>
            <p>A <a href="#deleteInsert">Delete Insert Operation</a> OpDeleteInsert is an Update Operation in which (1) triples are deleted from the Graph Store GS, either from the default slot or
            from named slot(s), and then (2) new triples are added in the Graph Store GS, either in the default slot or in named slot(s). Triples to be removed (and inserted, respectively) are
            identified by applying the pattern solutions for a Group Graph Pattern <em>P</em> against DS to the <code><a href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="ref-for-index-term-quadpattern-14">QuadPattern</a></code> <em>QuadPattern</em><sub>DEL</sub> (and <em>QuadPattern</em><sub>INS</sub>, respectively).</p>
            <p>OpDeleteInsert(GS, DS, <em>QuadPattern</em><sub>DEL</sub>, <em>QuadPattern</em><sub>INS</sub>, <em>P</em>) = Dataset-UNION(Dataset-DIFF(GS,
            Dataset(<em>QuadPattern</em><sub>DEL</sub>,<em>P</em>,DS,GS)), Dataset(<em>QuadPattern</em><sub>INS</sub>, <em>P</em>,DS,GS)</p>
          </div>
        </section>
        <section id="def_loadoperation"><div class="header-wrapper"><h4 id="x5-3-4-load-operation"><bdi class="secno">5.3.4 </bdi>Load Operation</h4><a class="self-link" href="#def_loadoperation" aria-label="Permalink for Section 5.3.4"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_loadOperation">Definition: Load Operation</span></strong></p>
            <p>A <a href="#load">Load Operation</a> OpLoad is an Update Operation in which new triples (from a remote graph) are added in the Graph Store, either in the default slot or in a named
            slot, if specified.</p>
            <p>OpLoad(GS, <em>documentIRI</em>) = Dataset-UNION(GS, { graph(<em>documentIRI</em>) } )</p>
            <p>OpLoad(GS, <em>documentIRI</em>, <em>iri</em>) = Dataset-UNION(GS, { {}, (<em>iri</em>,graph(<em>documentIRI</em>)) } )</p>
            <p>where graph(<em>documentIRI</em>) is a function returning the RDF graph serialized by the RDF document retrieved from IRI <em>documentIRI</em>, where blank nodes present in the
            retrieved graph are supposed to be "standardized apart"; i.e., blank nodes from a loaded graph need to be disjoint with the blank nodes already present in the Graph Store GS.</p>
          </div>
        </section>
        <section id="def_clearOperation"><div class="header-wrapper"><h4 id="x5-3-5-clear-operation"><bdi class="secno">5.3.5 </bdi>Clear Operation</h4><a class="self-link" href="#def_clearOperation" aria-label="Permalink for Section 5.3.5"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_clearOperation">Definition: Clear Operation</span></strong></p>
            <p>A <a href="#clear">Clear Operation</a> OpClear is an Update Operation in which triples are deleted from the Graph Store, either from a named slot, the default slot, all named slots or
            all slots. There are different variants of the Clear Operation, OpClear for clearing a named graph, OpClear<sub>def</sub> for clearing the default graph, OpClear<sub>named</sub> for
            clearing all named graphs, and OpClear<sub>all</sub> for clearing all graphs including the default graph.</p>
            <p>Let GS = {DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} and graphNames(GS) = { iri<sub>i</sub> | 1 ≤ i ≤ n}, then</p>
            <p>OpClear(GS, iri) = GS if iri not in graphNames(GS); otherwise, OpClear(GS, iri<sub>j</sub>) = ( GS minus {(iri<sub>j</sub>, G<sub>j</sub>)} ) union {(iri<sub>j</sub>,{})}, where
            (iri<sub>j</sub>, G<sub>j</sub>) ∈ GS and iri = iri<sub>j</sub></p>
            <p>OpClear<sub>def</sub>(GS) = {{}} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n}</p>
            <p>OpClear<sub>named</sub>(GS) = {DG} union {(iri<sub>i</sub>, {}) | 1 ≤ i ≤ n}</p>
            <p>OpClear<sub>all</sub>(GS) = {{}} union {(iri<sub>i</sub>, {}) | 1 ≤ i ≤ n}</p>
          </div>
          <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p>Since Graph Stores may remove graphs that are left empty, for such Graph Stores any Clear Operation performed on a named graph may be viewed as
            immediately followed by a <a href="#defn_dropOperation">Drop Operation</a>, see below.
          </div></div>
        </section>
      </section>
      <section id="formalModelGraphMgt"><div class="header-wrapper"><h3 id="x5-4-graph-management-operations"><bdi class="secno">5.4 </bdi>Graph Management Operations</h3><a class="self-link" href="#formalModelGraphMgt" aria-label="Permalink for Section 5.4"></a></div>
        
        <section id="def_createOperation"><div class="header-wrapper"><h4 id="x5-4-1-create-operation"><bdi class="secno">5.4.1 </bdi>Create Operation</h4><a class="self-link" href="#def_createOperation" aria-label="Permalink for Section 5.4.1"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_createOperation">Definition: Create Operation</span></strong></p>
            <p>A <a href="#create">Create Operation</a> OpCreate is an Update Operation in which (1) a new named slot and (2) a new graph G are created in the Graph Store. The new graph is held in
            the new slot, and is empty. Other slots and graphs are not affected.</p>
            <p>Let GS = {DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} and graphNames(GS) = { iri<sub>i</sub> | 1 ≤ i ≤ n}, then</p>
            <p>OpCreate(GS, iri) = GS union {(iri, {})} if iri not in graphNames(GS); otherwise, OpCreate(GS, iri) = GS</p>
          </div>
          <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="5"><span>Note</span></div><div class="">
            <p class="prefix"><strong>Note:</strong></p>Since Graph Stores may remove graphs that are left empty, for such Graph Stores any Create Operation performed on an empty or non-existent
            graph may be viewed as implicitly immediately followed by a <a href="#def_dropOperation">Drop Operation</a> (see next subsection), or simply as an operation with no effect.
          </div></div>
        </section>
        <section id="def_dropOperation"><div class="header-wrapper"><h4 id="x5-4-2-drop-operation"><bdi class="secno">5.4.2 </bdi>Drop Operation</h4><a class="self-link" href="#def_dropOperation" aria-label="Permalink for Section 5.4.2"></a></div>
          
          <div class="defn">
            <p><strong><span class="doc-ref" id="defn_dropOperation">Definition: Drop Operation</span></strong></p>
            <p>A <a href="#drop">Drop Operation</a> OpDrop is an Update Operation in which one or more slots (a named slot iri<sub>i</sub>, the default slot, all named slots or all slots) and their
            corresponding graphs are removed from the Graph Store. There are different variants of the Drop Operation, OpDrop for dropping a named graph, OpDrop<sub>def</sub> for dropping the default
            graph (which is equivalent to OpClear<sub>def</sub>, since the default graph cannot be removed, but dropping it means only to clear it), OpDrop<sub>named</sub> for dropping all named
            graphs, and OpDrop<sub>all</sub> for dropping all graphs including the default graph.</p>
            <p>Let GS = {DG} union {(iri<sub>i</sub>, G<sub>i</sub>) | 1 ≤ i ≤ n} and graphNames(GS) = { iri<sub>i</sub> | 1 ≤ i ≤ n}, then</p>
            <p>OpDrop(GS, iri) = GS if iri not in graphNames(GS); otherwise, OpDrop(GS, iri<sub>j</sub>) = {DG} union {(iri<sub>i</sub>, G<sub>i</sub> ) | i ≠ j and 1 ≤ i ≤ n} where iri =
            iri<sub>j</sub></p>
            <p>OpDrop<sub>def</sub>(GS) = OpClear<sub>def</sub>(GS)</p>
            <p>OpDrop<sub>named</sub>(GS) = {DG}</p>
            <p>OpDrop<sub>all</sub>(GS) = {{}}</p>
          </div>
        </section>
      </section>
      <section id="mappingRequestsToOperations"><div class="header-wrapper"><h3 id="x5-5-mapping-update-requests-to-the-formal-model"><bdi class="secno">5.5 </bdi>Mapping Update Requests to the Formal Model</h3><a class="self-link" href="#mappingRequestsToOperations" aria-label="Permalink for Section 5.5"></a></div>
        
        <p>In this section we show how to map Update Requests in the SPARQL 1.2. Update Language to Update Operations over the Graph Store as defined earlier in this section. This mapping assumes
        that in all Update requests, any <code>PREFIX</code>es have been expanded. Moreover, we assume that <code>WITH</code> clauses have been replaced by wrapping both the
        <code><em>QuadPattern</em></code>s in subsequent <code>DELETE</code> and <code>INSERT</code> clauses, and likewise - in the absence of <code>USING</code> and <code>USING NAMED</code> clauses
        - the <code><em>GroupGraphPattern</em></code> in the subsequent <code>WHERE</code> clause, into <code>GRAPH</code> patterns.</p>
        <p>The mapping from requests to Update Operations is defined in terms of the recursive translation function <em>Tr</em>(GS,<em>R</em>) which takes the Graphstore GS - as before executing the
        request - and an update request <em>R</em> as input and exands it to an <a href="#defn_updateOperation">Update Operation</a> call as shown in the following table. The <code><a href="#copy">COPY</a></code>, <code><a href="#move">MOVE</a></code>, and <code><a href="#add">ADD</a></code> operations are not mentioned explicitly here, since they are understood as
        shortcuts.</p>
        <table>
          <caption>
            Table 1: Mapping from Update Requests to Update Operations
          </caption>
          <tbody>
            <tr>
              <th>Update request <em>R</em></th>
              <th><em>Tr</em>(GS,<em>R</em>) =</th>
            </tr>
            <tr>
              <td><em>R<sub>1</sub></em> ; <em>R<sub>2</sub></em></td>
              <td><em>Tr</em>(<em>Tr</em>(GS, <em>R<sub>1</sub></em>), <em>R<sub>2</sub></em>)</td>
            </tr>
            <tr>
              <td><code>INSERT DATA</code> <em>QuadData</em></td>
              <td><a href="#defn_deleteDataOperation">OpInsertData</a>(GS, <em>QuadData</em>)</td>
            </tr>
            <tr>
              <td><code>DELETE DATA</code> <em>QuadData</em></td>
              <td><a href="#defn_deleteDataOperation">OpDeleteData</a>(GS, <em>QuadData</em>)</td>
            </tr>
            <tr>
              <td><code>DELETE</code> <em>QuadPattern</em><sub>DEL</sub> <code>INSERT</code> <em>QuadPattern</em><sub>INS</sub><br>
              <em>UsingClause</em>*<br>
              <code>WHERE</code> <em>GroupGraphPattern</em></td>
              <td><a href="#defn_deleteInsertOperation">OpDeleteInsert</a>(GS, <em>Tr<sub>Dataset</sub></em>(GS,<em>UsingClause</em>*), <em>QuadPattern</em><sub>DEL</sub>,
              <em>QuadPattern</em><sub>INS</sub>, <em>GroupGraphPattern</em>)</td>
            </tr>
            <tr>
              <td><code>DELETE</code> <em>QuadPattern</em><sub>DEL</sub><br>
              <em>UsingClause</em>*<br>
              <code>WHERE</code> <em>GroupGraphPattern</em></td>
              <td><a href="#defn_deleteInsertOperation">OpDeleteInsert</a>(GS, <em>Tr<sub>Dataset</sub></em>(GS,<em>UsingClause</em>*), <em>QuadPattern</em><sub>DEL</sub>, {},
              <em>GroupGraphPattern</em>)</td>
            </tr>
            <tr>
              <td><code>INSERT</code> <em>QuadPattern</em><sub>INS</sub><br>
              <em>UsingClause</em>*<br>
              <code>WHERE</code> <em>GroupGraphPattern</em></td>
              <td><a href="#defn_deleteInsertOperation">OpDeleteInsert</a>(GS, <em>Tr<sub>Dataset</sub></em>(GS,<em>UsingClause</em>*), {}, <em>QuadPattern</em><sub>INS</sub>,
              <em>GroupGraphPattern</em>)</td>
            </tr>
            <tr>
              <td><code>DELETE WHERE</code> <em>QuadPattern</em></td>
              <td><a href="#defn_deleteInsertOperation">OpDeleteInsert</a>(GS, GS, <em>QuadPattern</em>, {}, <em>QuadPattern</em>)</td>
            </tr>
            <tr>
              <td><code>LOAD (SILENT)?</code> <em>IRIref</em></td>
              <td><a href="#defn_loadOperation">OpLoad</a>(GS, <em>IRIref</em>)</td>
            </tr>
            <tr>
              <td><code>LOAD (SILENT)?</code> <em>IRIref</em><sub>from</sub> <code>INTO GRAPH</code> <em>IRIref</em><sub>to</sub></td>
              <td><a href="#defn_loadOperation">OpLoad</a>(GS, <em>IRIref</em><sub>from</sub>, <em>IRIref</em><sub>to</sub>)</td>
            </tr>
            <tr>
              <td><code>CLEAR (SILENT)? GRAPH</code> <em>IRIref</em></td>
              <td><a href="#defn_clearOperation">OpClear</a>(GS, <em>IRIref</em>)</td>
            </tr>
            <tr>
              <td><code>CLEAR (SILENT)? DEFAULT</code></td>
              <td><a href="#defn_clearOperation">OpClear</a><sub>def</sub>(GS)</td>
            </tr>
            <tr>
              <td><code>CLEAR (SILENT)? NAMED</code></td>
              <td><a href="#defn_clearOperation">OpClear</a><sub>named</sub>(GS)</td>
            </tr>
            <tr>
              <td><code>CLEAR (SILENT)? ALL</code></td>
              <td><a href="#defn_clearOperation">OpClear</a><sub>all</sub>(GS)</td>
            </tr>
            <tr>
              <td><code>CREATE (SILENT)? GRAPH</code> <em>IRIref</em></td>
              <td><a href="#defn_createOperation">OpCreate</a>(GS, <em>IRIref</em>)</td>
            </tr>
            <tr>
              <td><code>DROP (SILENT)? GRAPH</code> <em>IRIref</em></td>
              <td><a href="#defn_dropOperation">OpDrop</a>(GS, <em>IRIref</em>)</td>
            </tr>
            <tr>
              <td><code>DROP (SILENT)? DEFAULT</code></td>
              <td><a href="#defn_dropOperation">OpDrop</a><sub>def</sub>(GS)</td>
            </tr>
            <tr>
              <td><code>DROP (SILENT)? NAMED</code></td>
              <td><a href="#defn_dropOperation">OpDrop</a><sub>named</sub>(GS)</td>
            </tr>
            <tr>
              <td><code>DROP (SILENT)? ALL</code></td>
              <td><a href="#defn_dropOperation">OpDrop</a><sub>all</sub>(GS)</td>
            </tr>
          </tbody>
        </table>
        <p>This table uses one auxiliary translation function <em>Tr<sub>Dataset</sub></em>() which constructs a dataset from the optional set of <code>USING</code> and <code>USING NAMED</code>
        clauses and is defined as follows:</p>
        <table>
          <caption>
            Table 2: Mapping <em><a href="https://w3c.github.io/sparql-query/spec/#rUsingClause" id="ref-for-index-term-usingclause-1">UsingClause</a></em>s to RDF Datasets
          </caption>
          <tbody>
            <tr>
              <th>Translation Function</th>
              <th>Definition</th>
            </tr>
            <tr>
              <td><em>Tr<sub>Dataset</sub></em>(GS,<em><a href="https://w3c.github.io/sparql-query/spec/#rUsingClause" id="ref-for-index-term-usingclause-2">UsingClause</a></em>*) =</td>
              <td>
                <ul>
                  <li>the RDF Dataset DS described by the <em>UsingClause</em>s, if non-empty</li>
                  <li>the RDF Dataset corresponding to the current state of GS, otherwise</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>Note</span></div><div class="">
          <p class="prefix"><strong>Note:</strong></p>How exactly an RDF Dataset is obtained from the <code>USING</code> and <code>USING NAMED</code> clauses (e.g. by dereferencing graph name IRIs
          and trying to retrieve them, or by picking those graphs from the existing Graph Store) is implementation dependent. Particularly, this specification does not mandate any assumptions about
          blank node identity beyond the consideration for the analogous <code>FROM</code> and <code>FROM NAMED</code> clauses in Section <a href="https://w3c.github.io/sparql-query/spec/#specifyingDataset" id="ref-for-index-term-rdf-datasets-in-the-sparql-1-2-query-language-2">Specifying RDF Datasets</a> of the SPARQL 1.2 Query Language specification.
        </div></div>
      </section>
    </section>
    <section id="conformance"><div class="header-wrapper"><h2 id="x6-conformance"><bdi class="secno">6. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 6."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
      <section id="conformance-0"><div class="header-wrapper"><h3 id="x6-1-conformance"><bdi class="secno">6.1 </bdi>Conformance</h3><a class="self-link" href="#conformance-0" aria-label="Permalink for Section 6.1"></a></div>
      <p>See <a href="#grammar">appendix B SPARQL 1.2 Update Grammar</a> regarding conformance of SPARQL Update strings.</p>
      <p>This specification is intended for use in conjunction with: the <cite><a data-matched-text="[[[SPARQL12-GRAPH-STORE-PROTOCOL]]]" href="https://w3c.github.io/sparql-graph-store-protocol/spec/">SPARQL 1.2 Graph Store HTTP Protocol</a></cite> and the <cite><a data-matched-text="[[[SPARQL12-PROTOCOL]]]" href="https://w3c.github.io/sparql-protocol/spec/">SPARQL 1.2 Protocol</a></cite>.</p>
    </section></section>
    <section id="security-original"><div class="header-wrapper"><h2 id="x7-security-considerations"><bdi class="secno">7. </bdi>Security Considerations</h2><a class="self-link" href="#security-original" aria-label="Permalink for Section 7."></a></div>
      
      <p>Exposing RDF data for update creates many security issues which all deployments must be aware of, and consider the risks involved. This submission discusses some of the potential issues. New
      security problems are discovered regularly, and each implementation introduces its own concerns. Consequently implementers should be aware that this is only a partial list containing possible
      issues, and cannot be considered complete nor authoritative.</p>
      <ul>
        <li>Write access to data makes it inherently vulnerable to malicious access. Standard access and authentication techniques should be used in any networked environment. In particular, HTTPS
        should be used, especially when implementing the SPARQL HTTP-based protocols. (i.e., encryption with challenge/response based password presentation, encrypted session tokens, etc). Some of
        the weak points addressed by HTTPS are: authentication, active session integrity between client and server, preventing replays, preventing continuation of defunct sessions.</li>
        <li>SPARQL Update incurs all of the security concerns of SPARQL Query. In particular, stores which treat IRIs as dereferenceable need to protect against dereferenced IRIs from being used to
        invoke cross-site scripting attacks.</li>
        <li>Implementations will need to enforce their standard permissions scheme carefully. Permissions schemes always require careful design, and it is important to ensure that privileges in one
        area are not inadvertently applied to other parts of the system.</li>
        <li>Systems that provide both read-only and writable interfaces can be subject to injection attacks in the read-only interface. In particular, a SPARQL endpoint with a Query service should be
        careful of injection attacks aimed at interacting with an Update service on the same SPARQL endpoint. Like any client code, interaction between the query service and the update service should
        ensure correct escaping of strings provided by the user.</li>
        <li>While SPARQL Update and SPARQL Query are separate languages, some implementations may choose to offer both at the same SPARQL endpoint. In this case, it is important to consider that an
        Update operation may be obscured to masquerade as a query. For instance, a string of unicode escapes in a PREFIX clause could be used to hide an Update Operation. Therefore, simple syntactic
        tests are inadequate to determine if a string describes a query or an update.</li>
      </ul>
    </section>
    <section id="mediaType"><div class="header-wrapper"><h2 id="x8-internet-media-type-file-extension-and-macintosh-file-type"><bdi class="secno">8. </bdi>Internet Media Type, File Extension and Macintosh File Type</h2><a class="self-link" href="#mediaType" aria-label="Permalink for Section 8."></a></div>
      
      <p>The Internet Media Type / MIME Type for the SPARQL Update Language is "<code>/application/sparql-update</code>".</p>
      <p>It is recommended that SPARQL Update files have the extension ".ru" (lowercase) on all platforms.</p>
      <p>It is recommended that SPARQL Update files stored on Macintosh HFS file systems be given a file type of "TEXT".</p>
      <div class="mime">
        <dl>
          <dt>Type name:</dt>
          <dd>application</dd>
          <dt>Subtype name:</dt>
          <dd>sparql-update</dd>
          <dt>Required parameters:</dt>
          <dd>None</dd>
          <dt>Optional parameters:</dt>
          <dd>None</dd>
          <dt>Encoding considerations:</dt>
          <dd>The syntax of the SPARQL Update Language is expressed over code points in Unicode [<a href="#UNICODE">UNICODE</a>]. The encoding is always UTF-8 [<a href="#rfc3629">RFC3629</a>].</dd>
          <dd>Unicode code points may also be expressed using an \uXXXX (U+0 to U+FFFF) or \UXXXXXXXX syntax (for U+10000 onwards) where X is a hexadecimal digit [0-9A-F]</dd>
          <dt>Security considerations:</dt>
          <dd>See SPARQL Update appendix A, <a href="#security-original">Security Considerations</a> as well as <a class="norm" href="http://www.ietf.org/rfc/rfc3629.txt">RFC 3629</a> [<a href="#rfc3629">RFC3629</a>] section 7, Security Considerations.</dd>
          <dt>Interoperability considerations:</dt>
          <dd>There are no known interoperability issues.</dd>
          <dt>Published specification:</dt>
          <dd>This specification.</dd>
          <dt>Applications which use this media type:</dt>
          <dd>No known applications currently use this media type.</dd>
          <dt>Additional information:</dt>
          <dt>Magic number(s):</dt>
          <dd>A SPARQL query may have the string 'PREFIX' (case independent) near the beginning of the document.</dd>
          <dt>File extension(s):</dt>
          <dd>".ru"</dd>
          <dt>Base IRI:</dt>
          <dd>The SPARQL 'BASE &lt;IRIref&gt;' term can change the current base IRI for relative IRIrefs in the query language that are used sequentially later in the document.</dd>
          <dt>Macintosh file type code(s):</dt>
          <dd>"TEXT"</dd>
          <dt>Person &amp; email address to contact for further information:</dt>
          <dd>public-rdf-dawg-comments@w3.org</dd>
          <dt>Intended usage:</dt>
          <dd>COMMON</dd>
          <dt>Restrictions on usage:</dt>
          <dd>None</dd>
          <dt>Author/Change controller:</dt>
          <dd>The SPARQL 1.2 specification is a work product of the World Wide Web Consortium's SPARQL Working Group. The <abbr title="World Wide Web Consortium">W3C</abbr> has change control over these specifications.</dd>
        </dl>
      </div>
    </section>
    <section id="grammar"><div class="header-wrapper"><h2 id="x9-sparql-1-2-update-grammar"><bdi class="secno">9. </bdi>SPARQL 1.2 Update Grammar</h2><a class="self-link" href="#grammar" aria-label="Permalink for Section 9."></a></div>
      
      <p>The formal definition for the SPARQL 1.2 Update grammar is provided with the <a href="https://w3c.github.io/sparql-query/spec/#grammar" id="ref-for-index-term-sparql-1-2-query-grammar-1">SPARQL 1.2 Query grammar</a>. This is because the grammar
      for SPARQL 1.2 Update shares most of its structure with SPARQL 1.2 Query.</p>
    </section>
    <section id="sec-bibliography"><div class="header-wrapper"><h2 id="x10-references"><bdi class="secno">10. </bdi>References</h2><a class="self-link" href="#sec-bibliography" aria-label="Permalink for Section 10."></a></div>
      
      <section id="sec-existing-stds"><div class="header-wrapper"><h3 id="x10-1-normative-references"><bdi class="secno">10.1 </bdi>Normative References</h3><a class="self-link" href="#sec-existing-stds" aria-label="Permalink for Section 10.1"></a></div>
        
        <dl>
          <dt class="label"><span class="doc-ref" id="IANA"></span>IANA-CHARSETS</dt>
          <dd>(Internet Assigned Numbers Authority) <a href="http://www.iana.org/assignments/character-sets"><cite>Official Names for Character Sets</cite></a>, ed. Keld Simonsen et al. (See
          http://www.iana.org/assignments/character-sets.)</dd>
          <dt class="label"><span class="doc-ref" id="rfc3987"></span>RFC3987</dt>
          <dd><a href="http://www.ietf.org/rfc/rfc3987.txt"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>, M. Dürst , M. Suignard (See http://www.ietf.org/rfc/rfc3987.txt.)</dd>
          <dt class="label"><span class="doc-ref" id="RDF-MT"></span>RDF-MT</dt>
          <dd><a href="http://www.w3.org/TR/2004/REC-rdf-mt-20040210/"><cite>RDF Semantics</cite></a>, P. Hayes, Editor, <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation, 10 February 2004, see
          http://www.w3.org/TR/2004/REC-rdf-mt-20040210/, <a title="Latest version of RDF Semantics" href="http://www.w3.org/TR/rdf-mt/">Latest version</a> available at http://www.w3.org/TR/rdf-mt/.
          (See http://www.w3.org/TR/2004/REC-rdf-mt-20040210/.)</dd>
        </dl>
      </section>
      <section id="null"><div class="header-wrapper"><h3 id="x10-2-other-references"><bdi class="secno">10.2 </bdi>Other References</h3><a class="self-link" href="#null" aria-label="Permalink for Section 10.2"></a></div>
        
        <dl>
          <dt class="label"><span class="doc-ref" id="Aho"></span>Aho/Ullman</dt>
          <dd>Aho, Alfred V., Ravi Sethi, and Jeffrey D. Ullman. <cite>Compilers: Principles, Techniques, and Tools</cite>. Reading: Addison-Wesley, 1986, rpt. corr. 1988.</dd>
          <dt class="label"><span class="doc-ref" id="ABK"></span>Brüggemann-Klein</dt>
          <dd>Brüggemann-Klein, Anne. <a href="ftp://ftp.informatik.uni-freiburg.de/documents/papers/brueggem/habil.ps"><cite>Formal Models in Document Processing</cite></a>. Habilitationsschrift.
          Faculty of Mathematics at the University of Freiburg, 1993. (See ftp://ftp.informatik.uni-freiburg.de/documents/papers/brueggem/habil.ps.)</dd>
          <dt class="label"><span class="doc-ref" id="ABKDW"></span>Brüggemann-Klein and Wood</dt>
          <dd>Brüggemann-Klein, Anne, and Derick Wood. <cite>Deterministic Regular Languages</cite>. Universität Freiburg, Institut für Informatik, Bericht 38, Oktober 1991. Extended abstract in A.
          Finkel, M. Jantzen, Hrsg., STACS 1992, S. 173-184. Springer-Verlag, Berlin 1992. Lecture Notes in Computer Science 577. Full version titled <cite>One-Unambiguous Regular Languages</cite> in
          Information and Computation 140 (2): 229-253, February 1998.</dd>
          <dt class="label"><span class="doc-ref" id="Clark"></span>Clark</dt>
          <dd>James Clark. <a href="http://www.w3.org/TR/NOTE-sgml-xml-971215"><cite>Comparison of SGML and XML</cite></a>. (See http://www.w3.org/TR/NOTE-sgml-xml-971215.)</dd>
          <dt class="label"><span class="doc-ref" id="IANA-LANGCODES"></span>IANA-LANGCODES</dt>
          <dd>(Internet Assigned Numbers Authority) <a href="http://www.iana.org/assignments/language-subtag-registry"><cite>Registry of Language Tags</cite></a> (See
          http://www.iana.org/assignments/language-subtag-registry.)</dd>
          <dt class="label"><span class="doc-ref" id="RFC2141"></span>IETF RFC 2141</dt>
          <dd>IETF (Internet Engineering Task Force). <a href="http://www.ietf.org/rfc/rfc2141.txt"><cite>RFC 2141: URN Syntax</cite></a>, ed. R. Moats. 1997. (See
          http://www.ietf.org/rfc/rfc2141.txt.)</dd>
          <dt class="label"><span class="doc-ref" id="rfc2376"></span>IETF RFC 3023</dt>
          <dd>IETF (Internet Engineering Task Force). <a href="http://www.ietf.org/rfc/rfc3023.txt"><cite>RFC 3023: XML Media Types</cite></a>. eds. M. Murata, S. St.Laurent, D. Kohn. 2001. (See
          http://www.ietf.org/rfc/rfc3023.txt.)</dd>
          <dt class="label"><span class="doc-ref" id="rfc2781"></span>IETF RFC 2781</dt>
          <dd>IETF (Internet Engineering Task Force). <a href="http://www.ietf.org/rfc/rfc2781.txt"><cite>RFC 2781: UTF-16, an encoding of ISO 10646</cite></a>, ed. P. Hoffman, F. Yergeau. 2000. (See
          http://www.ietf.org/rfc/rfc2781.txt.)</dd>
          <dt class="label"><span class="doc-ref" id="rfc3629"></span>IETF RFC 3629</dt>
          <dd>IETF (Internet Engineering Task Force). <a href="http://www.ietf.org/rfc/rfc3629.txt"><cite>RFC 3629: UTF-8, a transformation format of ISO 10646</cite></a>, F. Yergeau. November 2003.
          (See http://www.ietf.org/rfc/rfc3629.txt.)</dd>
          <dt class="label"><span class="doc-ref" id="ISO639"></span>ISO 639</dt>
          <dd>(International Organization for Standardization). <cite>ISO 639:1988 (E). Code for the representation of names of languages.</cite> [Geneva]: International Organization for
          Standardization, 1988.</dd>
          <dt class="label"><span class="doc-ref" id="ISO3166"></span>ISO 3166</dt>
          <dd>(International Organization for Standardization). <cite>ISO 3166-1:1997 (E). Codes for the representation of names of countries and their subdivisions — Part 1: Country codes</cite>
          [Geneva]: International Organization for Standardization, 1997.</dd>
          <dt class="label"><span class="doc-ref" id="ISO8879"></span>ISO 8879</dt>
          <dd>ISO (International Organization for Standardization). <cite>ISO 8879:1986(E). Information processing — Text and Office Systems — Standard Generalized Markup Language (SGML).</cite>
          First edition — 1986-10-15. [Geneva]: International Organization for Standardization, 1986.</dd>
          <dt class="label"><span class="doc-ref" id="ISO10744"></span>ISO/IEC 10744</dt>
          <dd>ISO (International Organization for Standardization). <cite>ISO/IEC 10744-1992 (E). Information technology — Hypermedia/Time-based Structuring Language (HyTime).</cite> [Geneva]:
          International Organization for Standardization, 1992. <em>Extended Facilities Annexe.</em> [Geneva]: International Organization for Standardization, 1996.</dd>
          <dt class="label"><span class="doc-ref" id="UNICODE"></span>UNICODE</dt>
          <dd>The Unicode Consortium. <a href="http://www.unicode.org/unicode/standard/versions/"><cite>The Unicode Standard, Version 5.0.0.</cite></a> Boston, MA, Addison-Wesley, 2007. ISBN
          0-321-48091-0. (See http://www.unicode.org/unicode/standard/versions/.)</dd>
          <dt class="label"><span class="doc-ref" id="websgml"></span>WEBSGML</dt>
          <dd>ISO (International Organization for Standardization). <a href="http://www.sgmlsource.com/8879/n0029.htm"><cite>ISO 8879:1986 TC2. Information technology — Document Description and
          Processing Languages</cite></a>. [Geneva]: International Organization for Standardization, 1998. (See http://www.sgmlsource.com/8879/n0029.htm.)</dd>
          <dt class="label"><span class="doc-ref" id="xml-names"></span>XML Names</dt>
          <dd>Tim Bray, Dave Hollander, and Andrew Layman, editors. <a href="http://www.w3.org/TR/xml-names/"><cite>Namespaces in XML</cite></a>. Textuality, Hewlett-Packard, and Microsoft. World
          Wide Web Consortium, 1999. (See http://www.w3.org/TR/xml-names/.)</dd>
        </dl>
      </section>
    </section>
    

    <section id="privacy"><div class="header-wrapper"><h2 id="x11-privacy-considerations"><bdi class="secno">11. </bdi>Privacy Considerations</h2><a class="self-link" href="#privacy" aria-label="Permalink for Section 11."></a></div>
      
      <p>TODO</p>
    </section>

    <section id="security"><div class="header-wrapper"><h2 id="x12-security-considerations"><bdi class="secno">12. </bdi>Security Considerations</h2><a class="self-link" href="#security" aria-label="Permalink for Section 12."></a></div>
      
      <p>TODO</p>
    </section>

    <section id="internationalization"><div class="header-wrapper"><h2 id="x13-internationalization-considerations"><bdi class="secno">13. </bdi>Internationalization Considerations</h2><a class="self-link" href="#internationalization" aria-label="Permalink for Section 13."></a></div>
      
      <p>TODO</p>                
    </section>

    <section class="appendix informative" id="changes-from-sparql11"><div class="header-wrapper"><h2 id="a-change-log"><bdi class="secno">A. </bdi>Change Log</h2><a class="self-link" href="#changes-from-sparql11" aria-label="Permalink for Appendix A."></a></div><p><em>This section is non-normative.</em></p>
      
      <p>TODO</p>
    </section>   

    <section id="index" class="appendix"><div class="header-wrapper"><h2 id="b-index"><bdi class="secno">B. </bdi>Index</h2><a class="self-link" href="#index" aria-label="Permalink for Appendix B."></a></div><section id="index-defined-here"><div class="header-wrapper"><h3 id="b-1-terms-defined-by-this-specification"><bdi class="secno">B.1 </bdi>Terms defined by this specification</h3><a class="self-link" href="#index-defined-here" aria-label="Permalink for Appendix B.1"></a></div>
    
    <ul class="index">
    
  </ul>
  </section><section id="index-defined-elsewhere"><div class="header-wrapper"><h3 id="b-2-terms-defined-by-reference"><bdi class="secno">B.2 </bdi>Terms defined by reference</h3><a class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix B.2"></a></div>
    
    <ul class="index">
    <li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf12-concepts">RDF12-CONCEPTS</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/rdf-concepts/spec/#dfn-rdf-triple" id="index-term-valid-rdf-triples" tabindex="0" aria-haspopup="dialog">valid RDF triples</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-federated-query">SPARQL12-FEDERATED-QUERY</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-federated-query/spec/#service" id="index-term-service" tabindex="0" aria-haspopup="dialog">SERVICE</span>
  </li>
        </ul>
      </li><li>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql12-query">SPARQL12-QUERY</a></cite>] defines the following:
        <ul>
          <li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rConstructTriples" id="index-term-constructtriples" tabindex="0" aria-haspopup="dialog">ConstructTriples</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rDeleteClause" id="index-term-deleteclause" tabindex="0" aria-haspopup="dialog">DeleteClause</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#sparqlAlgebraEval" id="index-term-eval" tabindex="0" aria-haspopup="dialog">eval</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" id="index-term-groupgraphpattern" tabindex="0" aria-haspopup="dialog">GroupGraphPattern</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rInsertClause" id="index-term-insertclause" tabindex="0" aria-haspopup="dialog">InsertClause</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rIRIREF" id="index-term-iriref" tabindex="0" aria-haspopup="dialog">IRIref</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rQuadData" id="index-term-quaddata" tabindex="0" aria-haspopup="dialog">QuadData</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" id="index-term-quadpattern" tabindex="0" aria-haspopup="dialog">QuadPattern</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#sparqlDataset" id="index-term-rdf-dataset" tabindex="0" aria-haspopup="dialog">RDF Dataset</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rdfDataset" id="index-term-rdf-dataset-0" tabindex="0" aria-haspopup="dialog">RDF Dataset</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#specifyingDataset" id="index-term-rdf-datasets-in-the-sparql-1-2-query-language" tabindex="0" aria-haspopup="dialog">RDF Datasets in the SPARQL 1.2 Query Language</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#grammarBNodes" id="index-term-remarks-on-scoping-of-blank-nodes-within-requests-in-the-sparql-grammar" tabindex="0" aria-haspopup="dialog">remarks on scoping of blank nodes within requests in the SPARQL grammar</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#sparqlSolutions" id="index-term-solution-mapping" tabindex="0" aria-haspopup="dialog">solution mapping</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" id="index-term-sparql-1-2-query" tabindex="0" aria-haspopup="dialog">SPARQL 1.2 Query</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#grammar" id="index-term-sparql-1-2-query-grammar" tabindex="0" aria-haspopup="dialog">SPARQL 1.2 Query grammar</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#introduction" id="index-term-sparql-query-processing-service" tabindex="0" aria-haspopup="dialog">SPARQL query processing service</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#QSynIRI" id="index-term-syntax-for-iris" tabindex="0" aria-haspopup="dialog">syntax for IRIs</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#templatesWithBNodes" id="index-term-templates-with-blank-nodes" tabindex="0" aria-haspopup="dialog">Templates with Blank Nodes</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#BGPsparqlBNodes" id="index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query" tabindex="0" aria-haspopup="dialog">treatment of blank nodes in BGP matching for SPARQL 1.2 Query</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" id="index-term-triplestemplate" tabindex="0" aria-haspopup="dialog">TriplesTemplate</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rUsingClause" id="index-term-usingclause" tabindex="0" aria-haspopup="dialog">UsingClause</span>
  </li><li>
    <span class="index-term" data-href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" id="index-term-varoriri" tabindex="0" aria-haspopup="dialog">VarOrIri</span>
  </li>
        </ul>
      </li>
  </ul>
  </section></section>

  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="c-references"><bdi class="secno">C. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix C."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix C.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-rdf12-concepts">[RDF12-CONCEPTS]</dt><dd>
      <a href="https://w3c.github.io/rdf-concepts/spec/"><cite>RDF 1.2 Concepts and Abstract Syntax</cite></a>. Richard Cyganiak; David Wood; Markus Lanthaler.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/rdf-concepts/spec/">https://w3c.github.io/rdf-concepts/spec/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-sparql12-concepts">[SPARQL12-CONCEPTS]</dt><dd>
      <a href="https://w3c.github.io/sparql-concepts/spec/"><cite>SPARQL 1.2 Concepts</cite></a>. The W3C RDF-star Working Group.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-concepts/spec/">https://w3c.github.io/sparql-concepts/spec/</a>
    </dd><dt id="bib-sparql12-entailment">[SPARQL12-ENTAILMENT]</dt><dd>
      <a href="https://w3c.github.io/sparql-entailment/spec/"><cite>SPARQL 1.2 Entailment Regimes</cite></a>. Birte Glimm; Chimezie Ogbuji.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-entailment/spec/">https://w3c.github.io/sparql-entailment/spec/</a>
    </dd><dt id="bib-sparql12-federated-query">[SPARQL12-FEDERATED-QUERY]</dt><dd>
      <a href="https://w3c.github.io/sparql-federated-query/spec/"><cite>SPARQL 1.2 Federated Query</cite></a>. Eric Prud'hommeaux; Carlos Buil Aranda.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-federated-query/spec/">https://w3c.github.io/sparql-federated-query/spec/</a>
    </dd><dt id="bib-sparql12-graph-store-protocol">[SPARQL12-GRAPH-STORE-PROTOCOL]</dt><dd>
      <a href="https://w3c.github.io/sparql-graph-store-protocol/spec/"><cite>SPARQL 1.2 Graph Store HTTP Protocol</cite></a>. Chimezie Ogbuji.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-graph-store-protocol/spec/">https://w3c.github.io/sparql-graph-store-protocol/spec/</a>
    </dd><dt id="bib-sparql12-new">[SPARQL12-NEW]</dt><dd>
      <a href="https://w3c.github.io/sparql-new/spec/"><cite>What’s New in SPARQL 1.2</cite></a>. The W3C RDF-star Working Group.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-new/spec/">https://w3c.github.io/sparql-new/spec/</a>
    </dd><dt id="bib-sparql12-protocol">[SPARQL12-PROTOCOL]</dt><dd>
      <a href="https://w3c.github.io/sparql-protocol/spec/"><cite>SPARQL 1.2 Protocol</cite></a>. Lee Feigenbaum; Gregory Williams; Kendall Clark; Elias Torres.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-protocol/spec/">https://w3c.github.io/sparql-protocol/spec/</a>
    </dd><dt id="bib-sparql12-query">[SPARQL12-QUERY]</dt><dd>
      <a href="https://w3c.github.io/sparql-query/spec/"><cite>SPARQL 1.2 Query Language</cite></a>. Steven Harris; Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-query/spec/">https://w3c.github.io/sparql-query/spec/</a>
    </dd><dt id="bib-sparql12-results-csv-tsv">[SPARQL12-RESULTS-CSV-TSV]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-csv-tsv/spec/"><cite>SPARQL 1.2 Query Results CSV and TSV Formats</cite></a>. Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-csv-tsv/spec/">https://w3c.github.io/sparql-results-csv-tsv/spec/</a>
    </dd><dt id="bib-sparql12-results-json">[SPARQL12-RESULTS-JSON]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-json/spec/"><cite>SPARQL 1.2 Query Results JSON Format</cite></a>. Andy Seaborne.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-json/spec/">https://w3c.github.io/sparql-results-json/spec/</a>
    </dd><dt id="bib-sparql12-results-xml">[SPARQL12-RESULTS-XML]</dt><dd>
      <a href="https://w3c.github.io/sparql-results-xml/spec/"><cite>SPARQL 1.2 Query Results XML Formats</cite></a>. Sandro Hawke; Dave Beckett; Jeen Broekstra.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-results-xml/spec/">https://w3c.github.io/sparql-results-xml/spec/</a>
    </dd><dt id="bib-sparql12-service-description">[SPARQL12-SERVICE-DESCRIPTION]</dt><dd>
      <a href="https://w3c.github.io/sparql-service-description/spec/"><cite>SPARQL 1.2 Service Description</cite></a>. Gregory Williams.  W3C. W3C Working Draft. URL: <a href="https://w3c.github.io/sparql-service-description/spec/">https://w3c.github.io/sparql-service-description/spec/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-valid-rdf-triples" aria-label="Links in this document to definition: valid RDF triples">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/rdf-concepts/spec/#dfn-rdf-triple" aria-label="Permalink for definition: valid RDF triples. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-valid-rdf-triples-1" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-service" aria-label="Links in this document to definition: SERVICE">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-federated-query/spec/#service" aria-label="Permalink for definition: SERVICE. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-service-1" title="§ 3.2 SPARQL 1.2 Update Services">§ 3.2 SPARQL 1.2 Update Services</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-constructtriples" aria-label="Links in this document to definition: ConstructTriples">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rConstructTriples" aria-label="Permalink for definition: ConstructTriples. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-constructtriples-1" title="§ 2.1.2 Terminology">§ 2.1.2 Terminology</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-deleteclause" aria-label="Links in this document to definition: DeleteClause">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rDeleteClause" aria-label="Permalink for definition: DeleteClause. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-deleteclause-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> 
  </li><li>
    <a href="#ref-for-index-term-deleteclause-2" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> <a href="#ref-for-index-term-deleteclause-3" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-eval" aria-label="Links in this document to definition: eval">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#sparqlAlgebraEval" aria-label="Permalink for definition: eval. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-eval-1" title="§ 5.2.4 Dataset( QuadPattern, P, DS, GS )">§ 5.2.4 Dataset( QuadPattern, P, DS, GS )</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-groupgraphpattern" aria-label="Links in this document to definition: GroupGraphPattern">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rGroupGraphPattern" aria-label="Permalink for definition: GroupGraphPattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-groupgraphpattern-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> 
  </li><li>
    <a href="#ref-for-index-term-groupgraphpattern-2" title="§ 2.1.2 Terminology">§ 2.1.2 Terminology</a> 
  </li><li>
    <a href="#ref-for-index-term-groupgraphpattern-3" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> <a href="#ref-for-index-term-groupgraphpattern-4" title="Reference 2">(2)</a> <a href="#ref-for-index-term-groupgraphpattern-5" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-index-term-groupgraphpattern-6" title="§ 4.1.3.1 DELETE (Informative)">§ 4.1.3.1 DELETE (Informative)</a> 
  </li><li>
    <a href="#ref-for-index-term-groupgraphpattern-7" title="§ 4.1.3.2 INSERT (Informative)">§ 4.1.3.2 INSERT (Informative)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-insertclause" aria-label="Links in this document to definition: InsertClause">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rInsertClause" aria-label="Permalink for definition: InsertClause. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-insertclause-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> <a href="#ref-for-index-term-insertclause-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-insertclause-3" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> <a href="#ref-for-index-term-insertclause-4" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-iriref" aria-label="Links in this document to definition: IRIref">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rIRIREF" aria-label="Permalink for definition: IRIref. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-iriref-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> <a href="#ref-for-index-term-iriref-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-3" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> <a href="#ref-for-index-term-iriref-4" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-5" title="§ 4.1.3.1 DELETE (Informative)">§ 4.1.3.1 DELETE (Informative)</a> <a href="#ref-for-index-term-iriref-6" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-7" title="§ 4.1.3.2 INSERT (Informative)">§ 4.1.3.2 INSERT (Informative)</a> <a href="#ref-for-index-term-iriref-8" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-9" title="§ 4.1.4 LOAD">§ 4.1.4 LOAD</a> <a href="#ref-for-index-term-iriref-10" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-11" title="§ 4.1.5 CLEAR">§ 4.1.5 CLEAR</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-12" title="§ 4.2.1 CREATE">§ 4.2.1 CREATE</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-13" title="§ 4.2.2 DROP">§ 4.2.2 DROP</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-14" title="§ 4.2.3 COPY">§ 4.2.3 COPY</a> <a href="#ref-for-index-term-iriref-15" title="Reference 2">(2)</a> <a href="#ref-for-index-term-iriref-16" title="Reference 3">(3)</a> <a href="#ref-for-index-term-iriref-17" title="Reference 4">(4)</a> <a href="#ref-for-index-term-iriref-18" title="Reference 5">(5)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-19" title="§ 4.2.4 MOVE">§ 4.2.4 MOVE</a> <a href="#ref-for-index-term-iriref-20" title="Reference 2">(2)</a> <a href="#ref-for-index-term-iriref-21" title="Reference 3">(3)</a> <a href="#ref-for-index-term-iriref-22" title="Reference 4">(4)</a> <a href="#ref-for-index-term-iriref-23" title="Reference 5">(5)</a> <a href="#ref-for-index-term-iriref-24" title="Reference 6">(6)</a> 
  </li><li>
    <a href="#ref-for-index-term-iriref-25" title="§ 4.2.5 ADD">§ 4.2.5 ADD</a> <a href="#ref-for-index-term-iriref-26" title="Reference 2">(2)</a> <a href="#ref-for-index-term-iriref-27" title="Reference 3">(3)</a> <a href="#ref-for-index-term-iriref-28" title="Reference 4">(4)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-quaddata" aria-label="Links in this document to definition: QuadData">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rQuadData" aria-label="Permalink for definition: QuadData. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-quaddata-1" title="§ 2.1.2 Terminology">§ 2.1.2 Terminology</a> 
  </li><li>
    <a href="#ref-for-index-term-quaddata-2" title="§ 4.1.1 INSERT DATA">§ 4.1.1 INSERT DATA</a> 
  </li><li>
    <a href="#ref-for-index-term-quaddata-3" title="§ 4.1.2 DELETE DATA">§ 4.1.2 DELETE DATA</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-quadpattern" aria-label="Links in this document to definition: QuadPattern">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rQuadPattern" aria-label="Permalink for definition: QuadPattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-quadpattern-1" title="§ 2.1.2 Terminology">§ 2.1.2 Terminology</a> <a href="#ref-for-index-term-quadpattern-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-3" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> <a href="#ref-for-index-term-quadpattern-4" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-5" title="§ 4.1.3.1 DELETE (Informative)">§ 4.1.3.1 DELETE (Informative)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-6" title="§ 4.1.3.2 INSERT (Informative)">§ 4.1.3.2 INSERT (Informative)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-7" title="§ 4.1.3.3 DELETE WHERE">§ 4.1.3.3 DELETE WHERE</a> <a href="#ref-for-index-term-quadpattern-8" title="Reference 2">(2)</a> <a href="#ref-for-index-term-quadpattern-9" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-10" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> <a href="#ref-for-index-term-quadpattern-11" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-12" title="§ 5.2.4 Dataset( QuadPattern, P, DS, GS )">§ 5.2.4 Dataset( QuadPattern, P, DS, GS )</a> <a href="#ref-for-index-term-quadpattern-13" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-quadpattern-14" title="§ 5.3.3 Delete Insert Operation">§ 5.3.3 Delete Insert Operation</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-rdf-dataset" aria-label="Links in this document to definition: RDF Dataset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#sparqlDataset" aria-label="Permalink for definition: RDF Dataset. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-rdf-dataset-1" title="§ 3. The Graph Store">§ 3. The Graph Store</a> 
  </li><li>
    <a href="#ref-for-index-term-rdf-dataset-2" title="§ 5.1.1 Graph Store">§ 5.1.1 Graph Store</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-rdf-dataset-0" aria-label="Links in this document to definition: RDF Dataset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rdfDataset" aria-label="Permalink for definition: RDF Dataset. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-rdf-dataset-0-1" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> 
  </li><li>
    <a href="#ref-for-index-term-rdf-dataset-0-2" title="§ 5.2 Auxiliary Definitions">§ 5.2 Auxiliary Definitions</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-rdf-datasets-in-the-sparql-1-2-query-language" aria-label="Links in this document to definition: RDF Datasets in the SPARQL 1.2 Query Language">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#specifyingDataset" aria-label="Permalink for definition: RDF Datasets in the SPARQL 1.2 Query Language. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-rdf-datasets-in-the-sparql-1-2-query-language-1" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> 
  </li><li>
    <a href="#ref-for-index-term-rdf-datasets-in-the-sparql-1-2-query-language-2" title="§ 5.5 Mapping Update Requests to the Formal Model">§ 5.5 Mapping Update Requests to the Formal Model</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-remarks-on-scoping-of-blank-nodes-within-requests-in-the-sparql-grammar" aria-label="Links in this document to definition: remarks on scoping of blank nodes within requests in the SPARQL grammar">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#grammarBNodes" aria-label="Permalink for definition: remarks on scoping of blank nodes within requests in the SPARQL grammar. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-remarks-on-scoping-of-blank-nodes-within-requests-in-the-sparql-grammar-1" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-solution-mapping" aria-label="Links in this document to definition: solution mapping">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#sparqlSolutions" aria-label="Permalink for definition: solution mapping. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-solution-mapping-1" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-sparql-1-2-query" aria-label="Links in this document to definition: SPARQL 1.2 Query">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#sparqlGrammar" aria-label="Permalink for definition: SPARQL 1.2 Query. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-sparql-1-2-query-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> <a href="#ref-for-index-term-sparql-1-2-query-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-3" title="§ 4.1 Graph Update">§ 4.1 Graph Update</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-4" title="§ 4.1.1 INSERT DATA">§ 4.1.1 INSERT DATA</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-5" title="§ 4.1.2 DELETE DATA">§ 4.1.2 DELETE DATA</a> 
  </li><li>
    <a href="#ref-for-index-term-sparql-1-2-query-6" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-sparql-1-2-query-grammar" aria-label="Links in this document to definition: SPARQL 1.2 Query grammar">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#grammar" aria-label="Permalink for definition: SPARQL 1.2 Query grammar. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-sparql-1-2-query-grammar-1" title="§ 9. SPARQL 1.2 Update Grammar">§ 9. SPARQL 1.2 Update Grammar</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-sparql-query-processing-service" aria-label="Links in this document to definition: SPARQL query processing service">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#introduction" aria-label="Permalink for definition: SPARQL query processing service. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-sparql-query-processing-service-1" title="§ 2. Introduction">§ 2. Introduction</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-syntax-for-iris" aria-label="Links in this document to definition: syntax for IRIs">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#QSynIRI" aria-label="Permalink for definition: syntax for IRIs. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-syntax-for-iris-1" title="§ 2.1.1 Language Form">§ 2.1.1 Language Form</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-templates-with-blank-nodes" aria-label="Links in this document to definition: Templates with Blank Nodes">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#templatesWithBNodes" aria-label="Permalink for definition: Templates with Blank Nodes. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-templates-with-blank-nodes-1" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> 
  </li><li>
    <a href="#ref-for-index-term-templates-with-blank-nodes-2" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query" aria-label="Links in this document to definition: treatment of blank nodes in BGP matching for SPARQL 1.2 Query">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#BGPsparqlBNodes" aria-label="Permalink for definition: treatment of blank nodes in BGP matching for SPARQL 1.2 Query. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query-1" title="§ 5.2.4 Dataset( QuadPattern, P, DS, GS )">§ 5.2.4 Dataset( QuadPattern, P, DS, GS )</a> <a href="#ref-for-index-term-treatment-of-blank-nodes-in-bgp-matching-for-sparql-1-2-query-2" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-triplestemplate" aria-label="Links in this document to definition: TriplesTemplate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rTriplesTemplate" aria-label="Permalink for definition: TriplesTemplate. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-triplestemplate-1" title="§ 4.1.1 INSERT DATA">§ 4.1.1 INSERT DATA</a> <a href="#ref-for-index-term-triplestemplate-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-index-term-triplestemplate-3" title="§ 4.1.3 DELETE/INSERT">§ 4.1.3 DELETE/INSERT</a> 
  </li><li>
    <a href="#ref-for-index-term-triplestemplate-4" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> <a href="#ref-for-index-term-triplestemplate-5" title="Reference 2">(2)</a> <a href="#ref-for-index-term-triplestemplate-6" title="Reference 3">(3)</a> <a href="#ref-for-index-term-triplestemplate-7" title="Reference 4">(4)</a> <a href="#ref-for-index-term-triplestemplate-8" title="Reference 5">(5)</a> <a href="#ref-for-index-term-triplestemplate-9" title="Reference 6">(6)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-usingclause" aria-label="Links in this document to definition: UsingClause">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rUsingClause" aria-label="Permalink for definition: UsingClause. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-usingclause-1" title="§ 5.5 Mapping Update Requests to the Formal Model">§ 5.5 Mapping Update Requests to the Formal Model</a> <a href="#ref-for-index-term-usingclause-2" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-varoriri" aria-label="Links in this document to definition: VarOrIri">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="https://w3c.github.io/sparql-query/spec/#rVarOrIri" aria-label="Permalink for definition: VarOrIri. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-index-term-varoriri-1" title="§ 4.1.1 INSERT DATA">§ 4.1.1 INSERT DATA</a> 
  </li><li>
    <a href="#ref-for-index-term-varoriri-2" title="§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )">§ 5.2.3 Dataset( QuadPattern, μ, DS, GS )</a> <a href="#ref-for-index-term-varoriri-3" title="Reference 2">(2)</a> <a href="#ref-for-index-term-varoriri-4" title="Reference 3">(3)</a> 
  </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>